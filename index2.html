<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinética Química Aplicada: El Caso ReactiVida S.A.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0f4f8;
        }
        .title {
            font-family: 'Montserrat', sans-serif;
            color: #1a365d;
        }
        .accent-bar {
            height: 8px;
            background-color: #3182ce;
            flex-shrink: 0;
        }
        .footer-bar {
            border-top: 2px solid #e2e8f0;
            flex-shrink: 0;
        }
        .slide {
            display: none;
            width: 100%;
            background-color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            flex-direction: column;
            min-height: calc(100vh - 4rem); /* Altura mínima para llenar la pantalla */
        }
        .slide.active {
            display: flex;
        }
        .slide-content {
            flex-grow: 1;
            padding: 1.5rem md:2.5rem 2rem md:4rem;
            display: flex;
            flex-direction: column;
        }
        .content-section {
            background-color: #f8fafc;
            border-left: 4px solid #3182ce;
        }
        .definition-box {
            background-color: #ebf4ff;
            border-left: 4px solid #4299e1;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
        }
        .accordion-button {
            background-color: #e2e8f0;
            cursor: pointer;
            padding: 0.5rem 1rem;
            width: 100%;
            text-align: left;
            border: none;
            border-radius: 0.25rem;
            margin-top: 1rem;
            font-weight: 500;
        }
        .accordion-content {
            display: none;
            padding: 1rem;
            border: 1px solid #e2e8f0;
            border-top: none;
            background-color: #fdfdff;
        }
        .equation {
            font-family: 'Times New Roman', serif;
        }
        /* Estilos para la barra lateral y el menú hamburguesa */
        .sidebar {
            width: 280px;
            background-color: #1a365d;
            color: white;
            padding: 1.5rem;
            overflow-y: auto;
            height: 100vh;
            position: fixed;
            top: 0;
            left: -280px; /* Oculto por defecto */
            transition: left 0.3s ease-in-out;
            z-index: 40;
        }
        .sidebar.open {
            left: 0;
        }
        .main-container {
            width: 100%;
        }
        @media (min-width: 1024px) {
            .presentation-wrapper {
                display: flex;
            }
            .sidebar {
                position: static;
                left: 0;
                height: auto;
            }
            .main-container {
                flex-grow: 1;
            }
            #menu-button {
                display: none;
            }
        }
        .gemini-response {
            background-color: #f0f9ff;
            border: 1px solid #bee3f8;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            white-space: pre-wrap;
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 1rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="presentation-wrapper">
        <!-- Botón de Menú Hamburguesa para móviles -->
        <button id="menu-button" class="lg:hidden fixed top-4 left-4 z-50 bg-blue-800 text-white p-2 rounded-md">
            <i class="fas fa-bars"></i>
        </button>

        <nav id="sidebar" class="sidebar">
            <h2 class="text-2xl font-bold mb-6 border-b border-blue-400 pb-4">Temario</h2>
            <a href="#slide-1" class="nav-link">1. Portada</a>
            <a href="#slide-2" class="nav-link">2. El Desafío Industrial</a>
            <a href="#slide-3" class="nav-link">3. Termodinámica vs. Cinética</a>
            <a href="#slide-4" class="nav-link">4. Factores de Velocidad</a>
            <a href="#slide-5" class="nav-link">5. Pregunta de Discusión</a>
            <h3 class="font-bold mt-4 mb-2 text-lg text-blue-300">Velocidad de Reacción</h3>
            <a href="#slide-6" class="nav-link">6. Definición Formal</a>
            <a href="#slide-7" class="nav-link">7. Velocidad Media e Instantánea</a>
            <a href="#slide-8" class="nav-link">8. Estequiometría y Velocidad</a>
            <a href="#slide-9" class="nav-link">9. Ejercicio Guiado 1</a>
            <h3 class="font-bold mt-4 mb-2 text-lg text-blue-300">Leyes de Velocidad</h3>
            <a href="#slide-10" class="nav-link">10. Ley y Orden de Reacción</a>
            <a href="#slide-11" class="nav-link">11. Interpretación de Órdenes</a>
            <a href="#slide-12" class="nav-link">12. Unidades de k</a>
            <a href="#slide-13" class="nav-link">13. Determinación Experimental</a>
            <a href="#slide-14" class="nav-link">14. Simulación: Ley de Velocidad</a>
            <a href="#slide-15" class="nav-link">15. Aplicación en ReactiVida</a>
            <h3 class="font-bold mt-4 mb-2 text-lg text-blue-300">Leyes Integradas</h3>
            <a href="#slide-16" class="nav-link">16. Ecuaciones Integradas y Vida Media</a>
            <a href="#slide-17" class="nav-link">17. Reacciones de Primer Orden</a>
            <a href="#slide-18" class="nav-link">18. Reacciones de Segundo Orden</a>
            <a href="#slide-19" class="nav-link">19. Reacciones de Orden Cero</a>
            <a href="#slide-20" class="nav-link">20. Resumen de Leyes Integradas</a>
            <h3 class="font-bold mt-4 mb-2 text-lg text-blue-300">Temperatura y Energía</h3>
            <a href="#slide-21" class="nav-link">21. Dependencia con la Temperatura</a>
            <a href="#slide-22" class="nav-link">22. Simulación: Teoría de Colisiones</a>
            <a href="#slide-23" class="nav-link">23. Energía de Activación</a>
            <a href="#slide-24" class="nav-link">24. Ecuación de Arrhenius</a>
            <a href="#slide-25" class="nav-link">25. Simulación: Gráfico de Arrhenius</a>
            <a href="#slide-26" class="nav-link">26. Ejercicio Guiado 3</a>
            <h3 class="font-bold mt-4 mb-2 text-lg text-blue-300">Mecanismos de Reacción</h3>
            <a href="#slide-27" class="nav-link">27. Introducción a Mecanismos</a>
            <a href="#slide-28" class="nav-link">28. Pasos Elementales</a>
            <a href="#slide-29" class="nav-link">29. Paso Limitante</a>
            <a href="#slide-30" class="nav-link">30. Aplicación en ReactiVida</a>
            <h3 class="font-bold mt-4 mb-2 text-lg text-blue-300">Catálisis</h3>
            <a href="#slide-31" class="nav-link">31. El Rol del Catalizador</a>
            <a href="#slide-32" class="nav-link">32. Tipos de Catálisis</a>
            <a href="#slide-33" class="nav-link">33. Aplicación en ReactiVida</a>
            <h3 class="font-bold mt-4 mb-2 text-lg text-blue-300">Conclusiones</h3>
            <a href="#slide-34" class="nav-link">34. Resultados Finales</a>
            <a href="#slide-35" class="nav-link">35. Discusión Final</a>
            <a href="#slide-36" class="nav-link">36. ✨ Glosario Interactivo con IA</a>
        </nav>
        <main class="main-container">
            <div id="presentation-container">
                 <!-- Todas las diapositivas van aquí -->
                 <div id="slide-1" class="slide active">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content items-center justify-center text-center relative">
                        <h1 class="title text-3xl md:text-5xl font-bold mb-6">CINÉTICA QUÍMICA EN LA INDUSTRIA</h1>
                        <h2 class="title text-xl md:text-3xl font-medium mb-12">El Caso ReactiVida S.A.</h2>
                        <img src="https://i.imgur.com/gOaZf4J.jpeg" alt="Imagen de una refinería industrial moderna al atardecer, representando la aplicación de la química a gran escala." class="max-w-full md:max-w-xl rounded shadow-lg">
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 1</p></div>
                    </div>
                </div>
                
                <div id="slide-2" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Introducción: El Desafío de ReactiVida S.A.</h1>
                        <div class="text-lg md:text-xl text-gray-700 space-y-6">
                            <p><strong>El Caso:</strong> ReactiVida S.A. es una fábrica especializada en la producción del detergente concentrado <strong>UltraClean</strong>, un producto de alta demanda en el mercado.</p>
                            <p><strong>Desafío actual:</strong> La empresa enfrenta dificultades para cumplir con una demanda creciente, a pesar de contar con equipamiento moderno y personal calificado.</p>
                            <div class="p-6 bg-yellow-50 border-l-4 border-yellow-400">
                                <p class="font-semibold text-yellow-800">La dirección ha solicitado a su departamento técnico identificar los factores limitantes en el proceso de producción y proponer soluciones basadas en principios de cinética química.</p>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 2</p></div>
                    </div>
                </div>

                <div id="slide-3" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Termodinámica vs. Cinética</h1>
                        <div class="flex flex-col lg:flex-row flex-grow gap-6">
                            <div class="lg:w-1/2">
                                <div class="content-section p-5 rounded-lg h-full">
                                    <h2 class="title text-xl md:text-2xl font-semibold mb-3 flex items-center"><i class="fas fa-balance-scale text-blue-600 mr-3"></i>Termodinámica</h2>
                                    <p class="text-lg md:text-xl text-gray-700">Nos dice si una reacción es <strong>espontánea</strong> (si puede ocurrir). Se enfoca en los estados inicial y final.</p>
                                    <p class="text-lg md:text-xl mt-4"><strong>Ejemplo:</strong> La conversión de diamante en grafito es espontánea (ΔG < 0), pero no la vemos ocurrir.</p>
                                </div>
                            </div>
                            <div class="lg:w-1/2">
                                <div class="content-section p-5 rounded-lg h-full border-green-500">
                                     <h2 class="title text-xl md:text-2xl font-semibold mb-3 flex items-center"><i class="fas fa-tachometer-alt text-green-600 mr-3"></i>Cinética</h2>
                                     <p class="text-lg md:text-xl text-gray-700">Nos dice <strong>qué tan rápido</strong> ocurre una reacción. Se enfoca en el camino y la velocidad del proceso.</p>
                                     <p class="text-lg md:text-xl mt-4"><strong>Ejemplo:</strong> La conversión del diamante es extremadamente lenta (cinéticamente desfavorable).</p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 p-4 bg-blue-50 text-blue-800 text-center rounded-lg text-xl">
                            <strong>Conclusión para ReactiVida:</strong> No basta con que la reacción de UltraClean sea posible; necesitamos que sea <strong>rápida</strong>.
                        </div>
                    </div>
                     <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 3</p></div>
                    </div>
                </div>

                <div id="slide-4" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                         <h1 class="title text-2xl md:text-4xl font-bold mb-8">Factores Clave que Afectan la Velocidad</h1>
                         <p class="text-lg md:text-xl text-gray-700 mb-8">Para optimizar la producción en ReactiVida, debemos entender y controlar las variables que influyen en la velocidad de reacción.</p>
                         <div class="grid grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 text-center">
                            <div class="p-4 bg-gray-100 rounded-lg shadow-sm"><i class="fas fa-flask text-2xl text-blue-500 mb-2"></i><h3 class="text-lg md:text-xl font-semibold">Concentración</h3><p class="text-sm md:text-base">Mayor concentración, más colisiones.</p></div>
                            <div class="p-4 bg-gray-100 rounded-lg shadow-sm"><i class="fas fa-temperature-high text-2xl text-red-500 mb-2"></i><h3 class="text-lg md:text-xl font-semibold">Temperatura</h3><p class="text-sm md:text-base">Aumenta la energía de las moléculas.</p></div>
                            <div class="p-4 bg-gray-100 rounded-lg shadow-sm"><i class="fas fa-atom text-2xl text-purple-500 mb-2"></i><h3 class="text-lg md:text-xl font-semibold">Catalizadores</h3><p class="text-sm md:text-base">Crean rutas de reacción más rápidas.</p></div>
                            <div class="p-4 bg-gray-100 rounded-lg shadow-sm"><i class="fas fa-cubes text-2xl text-yellow-500 mb-2"></i><h3 class="text-lg md:text-xl font-semibold">Área Superficial</h3><p class="text-sm md:text-base">Clave en reactivos sólidos o líquidos inmiscibles.</p></div>
                            <div class="p-4 bg-gray-100 rounded-lg shadow-sm"><i class="fas fa-compress-arrows-alt text-2xl text-green-500 mb-2"></i><h3 class="text-lg md:text-xl font-semibold">Presión (Gases)</h3><p class="text-sm md:text-base">Aumenta la concentración de gases.</p></div>
                            <div class="p-4 bg-gray-100 rounded-lg shadow-sm"><i class="fas fa-vial text-2xl text-indigo-500 mb-2"></i><h3 class="text-lg md:text-xl font-semibold">Naturaleza de Reactivos</h3><p class="text-sm md:text-base">Enlaces más débiles reaccionan más rápido.</p></div>
                         </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 4</p></div>
                    </div>
                </div>

                <div id="slide-5" class="slide">
                     <div class="accent-bar w-full"></div>
                    <div class="slide-content flex flex-col items-center justify-center text-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-12">Pregunta para la Discusión</h1>
                        <p class="text-xl md:text-3xl text-gray-700 leading-relaxed max-w-4xl">Considerando los factores, ¿cuáles creen que son las "perillas" más probables que el equipo de ReactiVida puede ajustar para acelerar la producción de UltraClean?</p>
                        <div class="mt-10 w-full max-w-2xl">
                            <button id="tutorBtn" class="bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-colors">✨ Consultar al Tutor de IA</button>
                            <div id="tutorResponse" class="mt-6 text-left"></div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 5</p></div>
                    </div>
                </div>
                
                <div id="slide-6" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Velocidad de Reacción: Definición Formal</h1>
                        <div class="flex flex-col lg:flex-row items-center gap-6">
                            <div class="lg:w-1/2">
                                <div class="content-section p-6 rounded-lg">
                                    <p class="text-lg md:text-xl text-gray-700">La velocidad de una reacción química se define como el <strong>cambio en la concentración de un reactivo o producto por unidad de tiempo</strong>.</p>
                                    <p class="text-lg md:text-xl text-gray-700 mt-4">Se mide observando la desaparición de reactivos o la aparición de productos.</p>
                                    <p class="text-lg md:text-xl text-gray-700 mt-4">Sus unidades típicas son <strong>mol·L⁻¹·s⁻¹ (o M/s)</strong>.</p>
                                </div>
                            </div>
                            <div class="lg:w-1/2">
                                <img src="https://i.imgur.com/g8u2sE7.png" alt="Gráfico de concentración contra tiempo mostrando la disminución del reactivo A y B, y el aumento del producto UltraClean." class="rounded-lg shadow-lg border w-full">
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 6</p></div>
                    </div>
                </div>

                <div id="slide-7" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Velocidad Media vs. Instantánea</h1>
                        <div class="flex flex-col lg:flex-row flex-grow items-center gap-6">
                            <div class="lg:w-1/2">
                                <h2 class="title text-xl md:text-2xl font-semibold mb-4">Velocidad Media</h2>
                                <p class="text-lg md:text-xl text-gray-700">Se calcula sobre un intervalo de tiempo (Δt). Es una aproximación.</p>
                                <p class="equation text-2xl md:text-3xl text-center bg-blue-50 p-4 rounded-lg my-4">v = -Δ[A]/Δt</p>
                            </div>
                            <div class="lg:w-1/2">
                                <h2 class="title text-xl md:text-2xl font-semibold mb-4">Velocidad Instantánea</h2>
                                <p class="text-lg md:text-xl text-gray-700">Es la velocidad en un momento exacto. Es la pendiente de la tangente a la curva en ese punto.</p>
                                <p class="equation text-2xl md:text-3xl text-center bg-green-50 p-4 rounded-lg my-4">v = -d[A]/dt</p>
                            </div>
                        </div>
                        <p class="text-lg md:text-xl text-center mt-8 text-gray-700">En la industria, a menudo trabajamos con velocidades iniciales (la velocidad instantánea en t=0) para comparar experimentos.</p>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 7</p></div>
                    </div>
                </div>

                <div id="slide-8" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Expresión Estequiométrica de la Velocidad</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">Para que la velocidad sea un valor único para la reacción, independientemente de qué sustancia se mida, se normaliza usando los coeficientes estequiométricos.</p>
                        <div class="content-section p-6 rounded-lg">
                            <p class="text-xl md:text-2xl text-center mb-4">Para una reacción general: <strong>aA + bB → cC + dD</strong></p>
                            <div class="bg-gray-800 text-white p-4 rounded-lg text-center overflow-x-auto">
                                <p class="equation text-lg md:text-3xl whitespace-nowrap">v = - (1/a)·d[A]/dt = - (1/b)·d[B]/dt = + (1/c)·d[C]/dt = + (1/d)·d[D]/dt</p>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 8</p></div>
                    </div>
                </div>

                <div id="slide-9" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-6">Ejercicio Guiado 1: Expresiones de Velocidad</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">Formule la expresión de velocidad para la reacción de síntesis de amoníaco (Proceso Haber-Bosch), un proceso industrial fundamental:</p>
                        <div class="bg-gray-50 p-6 rounded-lg border">
                            <p class="text-2xl md:text-3xl text-center mb-6 equation">N₂(g) + 3H₂(g) → 2NH₃(g)</p>
                            <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3">Solución</h3>
                                <p class="text-xl md:text-2xl equation overflow-x-auto whitespace-nowrap">v = -d[N₂]/dt = - (1/3)·d[H₂]/dt = + (1/2)·d[NH₃]/dt</p>
                                <p class="text-base md:text-lg mt-4 text-gray-700">Esto significa que la velocidad de consumo de H₂ es tres veces la de N₂, y la velocidad de formación de NH₃ es el doble de la velocidad de consumo de N₂.</p>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 9</p></div>
                    </div>
                </div>

                <div id="slide-10" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Ley de Velocidad y Orden de Reacción</h1>
                        <div class="definition-box">
                            <p class="text-lg md:text-xl"><strong>Definición Clave:</strong> La <strong>ley de velocidad</strong> es una ecuación determinada <strong>experimentalmente</strong> que relaciona la velocidad de reacción con las concentraciones de los reactivos.</p>
                        </div>
                        <div class="bg-gray-800 text-white p-6 rounded-lg text-center mb-8">
                            <p class="text-2xl md:text-4xl font-mono">v = k[A]ᵐ[B]ⁿ</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-xl">
                            <p><strong>k:</strong> Constante de velocidad (depende de T).</p>
                            <p><strong>[A], [B]:</strong> Concentraciones molares.</p>
                            <p><strong>m, n:</strong> Órdenes de reacción parciales.</p>
                            <p><strong>m+n:</strong> Orden de reacción global.</p>
                        </div>
                        <div class="mt-8 p-4 bg-red-50 text-red-800 rounded-lg text-lg md:text-xl font-semibold">
                            <i class="fas fa-exclamation-triangle mr-2"></i>Importante: Los órdenes de reacción (m, n) NO están relacionados con los coeficientes estequiométricos (a, b) y deben hallarse experimentalmente.
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 10</p></div>
                    </div>
                </div>

                <div id="slide-11" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Interpretación de los Órdenes de Reacción</h1>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="bg-white p-4 rounded-lg shadow-md border">
                                <h3 class="title text-xl md:text-2xl font-semibold text-center mb-2">Orden Cero</h3>
                                <p class="text-lg md:text-xl text-center font-mono mb-4">v = k</p>
                                <img src="https://i.imgur.com/r6t5gLp.png" alt="Gráfico de velocidad vs concentración para una reacción de orden cero, mostrando una línea horizontal." class="mx-auto h-48">
                                <p class="text-base md:text-lg mt-4">La velocidad es <strong>independiente</strong> de la concentración del reactivo.</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-md border">
                                <h3 class="title text-xl md:text-2xl font-semibold text-center mb-2">Primer Orden</h3>
                                <p class="text-lg md:text-xl text-center font-mono mb-4">v = k[A]</p>
                                <img src="https://i.imgur.com/vHq0A2x.png" alt="Gráfico de velocidad vs concentración para una reacción de primer orden, mostrando una línea recta ascendente." class="mx-auto h-48">
                                <p class="text-base md:text-lg mt-4">La velocidad es <strong>directamente proporcional</strong> a la concentración.</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-md border">
                                <h3 class="title text-xl md:text-2xl font-semibold text-center mb-2">Segundo Orden</h3>
                                <p class="text-lg md:text-xl text-center font-mono mb-4">v = k[A]²</p>
                                <img src="https://i.imgur.com/9i2B8Yj.png" alt="Gráfico de velocidad vs concentración para una reacción de segundo orden, mostrando una curva parabólica." class="mx-auto h-48">
                                <p class="text-base md:text-lg mt-4">La velocidad es proporcional al <strong>cuadrado</strong> de la concentración.</p>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 11</p></div>
                    </div>
                </div>

                <div id="slide-12" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Unidades de la Constante de Velocidad (k)</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">Las unidades de 'k' dependen del orden de reacción global y son cruciales para asegurar la consistencia dimensional de la ley de velocidad.</p>
                        <div class="overflow-x-auto">
                            <table class="w-full text-base md:text-xl bg-white shadow-lg rounded-lg">
                                <thead class="bg-blue-100">
                                    <tr>
                                        <th class="p-4">Orden Global</th>
                                        <th class="p-4">Ley de Velocidad</th>
                                        <th class="p-4">Unidades de k</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="text-center border-t">
                                        <td class="p-4 font-semibold">0</td><td class="p-4 font-mono">v = k</td><td class="p-4 font-mono">mol·L⁻¹·s⁻¹</td>
                                    </tr>
                                    <tr class="text-center border-t bg-gray-50">
                                        <td class="p-4 font-semibold">1</td><td class="p-4 font-mono">v = k[A]</td><td class="p-4 font-mono">s⁻¹</td>
                                    </tr>
                                    <tr class="text-center border-t">
                                        <td class="p-4 font-semibold">2</td><td class="p-4 font-mono">v = k[A]²</td><td class="p-4 font-mono">L·mol⁻¹·s⁻¹</td>
                                    </tr>
                                    <tr class="text-center border-t bg-gray-50">
                                        <td class="p-4 font-semibold">3</td><td class="p-4 font-mono">v = k[A]³</td><td class="p-4 font-mono">L²·mol⁻²·s⁻¹</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 12</p></div>
                    </div>
                </div>

                <div id="slide-13" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Determinación Experimental: Método de Velocidades Iniciales</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">Este método consiste en comparar cómo cambia la velocidad inicial de la reacción al cambiar la concentración inicial de un solo reactivo, manteniendo los demás constantes.</p>
                        <div class="content-section p-6 rounded-lg text-lg md:text-xl">
                            <h3 class="title text-xl md:text-2xl font-semibold mb-4">Procedimiento:</h3>
                            <ol class="list-decimal pl-6 space-y-3">
                                <li><strong>Para hallar 'm' (orden de A):</strong> Se comparan dos experimentos donde [B] es constante y [A] varía. Se analiza el efecto en 'v'.</li>
                                <li><strong>Para hallar 'n' (orden de B):</strong> Se comparan dos experimentos donde [A] es constante y [B] varía. Se analiza el efecto en 'v'.</li>
                            </ol>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 13</p></div>
                    </div>
                </div>

                <div id="slide-14" class="slide">
                     <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-6">Simulación: Laboratorio de Ley de Velocidad</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">"Diseñe" sus experimentos para determinar la ley de velocidad de la reacción A + B → Productos.</p>
                        <div class="flex flex-col lg:flex-row flex-grow items-center gap-8">
                            <div class="w-full lg:w-1/2 bg-gray-50 p-6 rounded-lg border">
                                <h3 class="title text-xl md:text-2xl font-semibold mb-4">Controles del Experimento</h3>
                                <div class="mb-4">
                                    <label for="concA" class="font-medium">Concentración Inicial de [A] (M):</label>
                                    <input type="number" id="concA" value="0.1" step="0.1" min="0.1" class="w-full p-2 border rounded mt-1">
                                </div>
                                <div class="mb-6">
                                    <label for="concB" class="font-medium">Concentración Inicial de [B] (M):</label>
                                    <input type="number" id="concB" value="0.1" step="0.1" min="0.1" class="w-full p-2 border rounded mt-1">
                                </div>
                                <button id="runExpBtn" class="w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">Ejecutar Experimento</button>
                            </div>
                            <div class="w-full lg:w-1/2 text-center">
                                <h3 class="title text-xl md:text-2xl font-semibold mb-4">Resultados</h3>
                                <div class="bg-green-50 p-8 rounded-lg">
                                    <p class="text-lg">Velocidad Inicial Medida:</p>
                                    <p id="velocityOutput" class="text-2xl md:text-4xl font-bold text-green-800 mt-2">-</p>
                                </div>
                                <p class="mt-4 text-gray-600 italic">Sugerencia: Mantenga una concentración constante mientras duplica la otra para deducir los órdenes de reacción.</p>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 14</p></div>
                    </div>
                </div>

                <div id="slide-15" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Aplicación en ReactiVida: Identificando el Reactivo Clave</h1>
                        <div class="content-section p-6 rounded-lg">
                            <h3 class="title text-xl md:text-2xl font-semibold mb-3 flex items-center"><i class="fas fa-industry text-blue-600 mr-3"></i>Resultados en la Planta Piloto</h3>
                            <p class="text-lg md:text-xl text-gray-700">El equipo técnico de ReactiVida aplicó el método de velocidades iniciales y descubrió que la ley de velocidad para la producción de UltraClean es aproximadamente:</p>
                            <div class="bg-gray-800 text-white p-4 rounded-lg text-center my-4">
                                <p class="text-xl md:text-3xl font-mono">v = k [Tensioactivo]¹ [Surfactante]²</p>
                            </div>
                            <p class="text-lg md:text-xl font-semibold text-red-700">Esto reveló que la concentración del <strong>Surfactante (Reactivo B)</strong> tiene un impacto cuadrático en la velocidad, convirtiéndolo en el factor más crítico a controlar para aumentar la producción.</p>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 15</p></div>
                    </div>
                </div>

                <div id="slide-16" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Leyes de Velocidad Integradas</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">Mientras que la ley de velocidad relaciona velocidad y concentración, las <strong>leyes integradas</strong> relacionan <strong>concentración y tiempo</strong>. Nos permiten predecir la concentración de un reactivo en cualquier momento.</p>
                        <div class="flex flex-col lg:flex-row items-center gap-6">
                            <div class="lg:w-1/2">
                                <div class="definition-box">
                                    <p class="text-lg md:text-xl"><strong>Definición Clave:</strong> La <strong>Vida Media (t₁/₂)</strong> es el tiempo necesario para que la concentración de un reactivo se reduzca a la mitad de su valor inicial.</p>
                                </div>
                                <p class="text-xl md:text-2xl text-center bg-yellow-50 p-4 rounded-lg my-4 equation">[A] = [A]₀ / 2</p>
                            </div>
                            <div class="lg:w-1/2">
                                 <img src="https://i.imgur.com/kY3f5vD.png" alt="Gráfico de concentración vs tiempo mostrando la primera, segunda y tercera vida media para una reacción de primer orden." class="rounded-lg shadow-lg border w-full">
                            </div>
                        </div>
                        <button class="accordion-button">Ver Derivación Matemática (Ejemplo Primer Orden)</button>
                        <div class="accordion-content">
                            <p>Partimos de la ley de velocidad diferencial: v = -d[A]/dt = k[A]. Reordenamos para separar variables: d[A]/[A] = -k dt. Integramos ambos lados desde t=0 (donde [A]=[A]₀) hasta un tiempo t (donde [A]=[A]t): ∫d[A]/[A] = -∫k dt. El resultado es ln[A]t - ln[A]₀ = -kt, que se puede reescribir como <strong>ln[A] = -kt + ln[A]₀</strong>.</p>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 16</p></div>
                    </div>
                </div>

                <div id="slide-17" class="slide">
                     <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Reacciones de Primer Orden</h1>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div>
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3">Ecuación Integrada</h3>
                                <p class="equation text-xl md:text-2xl bg-blue-50 p-3 rounded">ln[A] = -kt + ln[A]₀</p>
                                <p class="mt-4 text-base md:text-lg">Un gráfico de <strong>ln[A] vs. tiempo</strong> da una línea recta con pendiente = -k.</p>
                            </div>
                            <div>
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3">Vida Media</h3>
                                <p class="equation text-xl md:text-2xl bg-green-50 p-3 rounded">t₁/₂ = ln(2) / k ≈ 0.693 / k</p>
                                <p class="mt-4 text-base md:text-lg">La vida media es <strong>constante</strong> y no depende de la concentración inicial.</p>
                            </div>
                        </div>
                        <img src="https://i.imgur.com/vHq0A2x.png" alt="Gráfico de velocidad vs concentración para una reacción de primer orden, mostrando una línea recta ascendente." class="mx-auto mt-8 h-48 md:h-64">
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 17</p></div>
                    </div>
                </div>

                <div id="slide-18" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Reacciones de Segundo Orden</h1>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div>
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3">Ecuación Integrada</h3>
                                <p class="equation text-xl md:text-2xl bg-blue-50 p-3 rounded">1/[A] = kt + 1/[A]₀</p>
                                <p class="mt-4 text-base md:text-lg">Un gráfico de <strong>1/[A] vs. tiempo</strong> da una línea recta con pendiente = k.</p>
                            </div>
                            <div>
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3">Vida Media</h3>
                                <p class="equation text-xl md:text-2xl bg-green-50 p-3 rounded">t₁/₂ = 1 / (k[A]₀)</p>
                                <p class="mt-4 text-base md:text-lg">La vida media <strong>depende</strong> de la concentración inicial; se alarga a medida que el reactivo se consume.</p>
                            </div>
                        </div>
                         <img src="https://i.imgur.com/9i2B8Yj.png" alt="Gráfico de velocidad vs concentración para una reacción de segundo orden, mostrando una curva parabólica." class="mx-auto mt-8 h-48 md:h-64">
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 18</p></div>
                    </div>
                </div>

                <div id="slide-19" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Reacciones de Orden Cero</h1>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div>
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3">Ecuación Integrada</h3>
                                <p class="equation text-xl md:text-2xl bg-blue-50 p-3 rounded">[A] = -kt + [A]₀</p>
                                <p class="mt-4 text-base md:text-lg">Un gráfico de <strong>[A] vs. tiempo</strong> da una línea recta con pendiente = -k.</p>
                            </div>
                            <div>
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3">Vida Media</h3>
                                <p class="equation text-xl md:text-2xl bg-green-50 p-3 rounded">t₁/₂ = [A]₀ / (2k)</p>
                                <p class="mt-4 text-base md:text-lg">La vida media es <strong>proporcional</strong> a la concentración inicial.</p>
                            </div>
                        </div>
                         <img src="https://i.imgur.com/r6t5gLp.png" alt="Gráfico de velocidad vs concentración para una reacción de orden cero, mostrando una línea horizontal." class="mx-auto mt-8 h-48 md:h-64">
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 19</p></div>
                    </div>
                </div>

                <div id="slide-20" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8 text-center">Resumen de Leyes de Velocidad Integradas</h1>
                        <div class="overflow-x-auto">
                            <table class="w-full text-base md:text-lg bg-white shadow-lg rounded-lg">
                                <thead class="bg-blue-100">
                                    <tr>
                                        <th class="p-3">Orden</th>
                                        <th class="p-3">Ecuación Integrada</th>
                                        <th class="p-3">Gráfico Lineal</th>
                                        <th class="p-3">Vida Media (t₁/₂)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="text-center border-t">
                                        <td class="p-3 font-semibold">0</td>
                                        <td class="p-3 font-mono">[A] = -kt + [A]₀</td>
                                        <td class="p-3 font-mono">[A] vs t</td>
                                        <td class="p-3 font-mono">[A]₀ / 2k</td>
                                    </tr>
                                    <tr class="text-center border-t bg-gray-50">
                                        <td class="p-3 font-semibold">1</td>
                                        <td class="p-3 font-mono">ln[A] = -kt + ln[A]₀</td>
                                        <td class="p-3 font-mono">ln[A] vs t</td>
                                        <td class="p-3 font-mono">0.693 / k</td>
                                    </tr>
                                    <tr class="text-center border-t">
                                        <td class="p-3 font-semibold">2</td>
                                        <td class="p-3 font-mono">1/[A] = kt + 1/[A]₀</td>
                                        <td class="p-3 font-mono">1/[A] vs t</td>
                                        <td class="p-3 font-mono">1 / (k[A]₀)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 20</p></div>
                    </div>
                </div>
                
                <div id="slide-21" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Dependencia de la Velocidad con la Temperatura</h1>
                        <div class="p-6 bg-yellow-50 border-l-4 border-yellow-400 mb-8">
                            <p class="text-lg md:text-xl text-yellow-800"><strong>Observación Industrial en ReactiVida:</strong> Un aumento de 10°C en la temperatura del reactor (de 25°C a 35°C) incrementó la producción en casi el doble.</p>
                        </div>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">En general, la velocidad de una reacción química aumenta al aumentar la temperatura. Esto se debe a que la constante de velocidad 'k' es fuertemente dependiente de la temperatura.</p>
                        <img src="https://i.imgur.com/kP8g06v.png" alt="Gráfico de velocidad relativa vs temperatura, mostrando un aumento exponencial." class="mx-auto rounded-lg shadow-lg border w-full max-w-2xl">
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 21</p></div>
                    </div>
                </div>

                <div id="slide-22" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Simulación: Teoría de las Colisiones</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">Para que una reacción ocurra, las moléculas deben colisionar con <strong>energía suficiente</strong> y <strong>orientación adecuada</strong>.</p>
                        <div class="flex flex-col lg:flex-row flex-grow items-center gap-8">
                            <div class="w-full lg:w-1/2 h-64 lg:h-full bg-gray-800 rounded-lg relative">
                                <canvas id="collisionCanvas" class="w-full h-full"></canvas>
                            </div>
                            <div class="w-full lg:w-1/2">
                                <div class="mb-4">
                                    <label for="tempSlider" class="font-medium">Temperatura:</label>
                                    <input type="range" id="tempSlider" min="1" max="10" value="3" class="w-full">
                                </div>
                                <div class="mb-6">
                                    <label for="concSlider" class="font-medium">Concentración:</label>
                                    <input type="range" id="concSlider" min="10" max="50" value="20" class="w-full">
                                </div>
                                <div class="bg-blue-50 p-4 rounded-lg text-center">
                                    <p class="text-lg">Colisiones Efectivas:</p>
                                    <p id="effectiveCollisions" class="text-4xl font-bold text-blue-800">0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 22</p></div>
                    </div>
                </div>

                <div id="slide-23" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Energía de Activación (Ea)</h1>
                        <div class="flex flex-col lg:flex-row items-center gap-6">
                            <div class="lg:w-1/2">
                                <div class="definition-box">
                                    <p class="text-lg md:text-xl"><strong>Definición Clave:</strong> La <strong>Energía de Activación (Ea)</strong> es la barrera de energía que debe superarse para que los reactivos se conviertan en productos.</p>
                                </div>
                                <p class="text-lg md:text-xl text-gray-700">Al aumentar la temperatura, una mayor fracción de moléculas tiene la energía cinética suficiente para superar esta barrera.</p>
                                <img src="https://i.imgur.com/lZ7i8gZ.png" alt="Perfil de energía de una reacción mostrando la barrera de energía de activación (Ea) que los reactivos deben superar." class="mt-6 rounded-lg shadow-lg border w-full">
                            </div>
                            <div class="lg:w-1/2">
                                <img src="https://i.imgur.com/3Y5n8yv.png" alt="Distribución de Maxwell-Boltzmann que muestra cómo a mayor temperatura (curva roja), una mayor fracción de moléculas tiene energía superior a la Ea." class="rounded-lg shadow-lg border w-full">
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 23</p></div>
                    </div>
                </div>

                <div id="slide-24" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">La Ecuación de Arrhenius</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">Esta ecuación fundamental cuantifica la relación entre la constante de velocidad (k), la temperatura (T) y la energía de activación (Ea).</p>
                        <div class="bg-gray-800 text-white p-6 rounded-lg text-center mb-8">
                            <p class="text-2xl md:text-4xl equation">k = A · e<sup>-Ea/RT</sup></p>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-base md:text-xl bg-white shadow rounded-lg">
                                <tr class="border-b"><td class="p-3 font-semibold text-blue-800">k:</td><td class="p-3">Constante de velocidad</td></tr>
                                <tr class="border-b bg-gray-50"><td class="p-3 font-semibold text-blue-800">A:</td><td class="p-3">Factor pre-exponencial (frecuencia de colisiones con orientación correcta)</td></tr>
                                <tr class="border-b"><td class="p-3 font-semibold text-blue-800">Ea:</td><td class="p-3">Energía de activación (J/mol)</td></tr>
                                <tr class="border-b bg-gray-50"><td class="p-3 font-semibold text-blue-800">R:</td><td class="p-3">Constante de los gases (8.314 J/mol·K)</td></tr>
                                <tr><td class="p-3 font-semibold text-blue-800">T:</td><td class="p-3">Temperatura absoluta (K)</td></tr>
                            </table>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 24</p></div>
                    </div>
                </div>

                <div id="slide-25" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Simulación: Gráfico de Arrhenius</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">Utilice los datos experimentales para construir el gráfico de Arrhenius y determinar la Energía de Activación.</p>
                        <div class="flex flex-col lg:flex-row flex-grow items-center gap-8">
                            <div class="w-full lg:w-1/2">
                                <div class="bg-white p-4 rounded-lg shadow-md border h-full">
                                    <canvas id="arrheniusPlot"></canvas>
                                </div>
                            </div>
                            <div class="w-full lg:w-1/2">
                                <div class="bg-gray-50 p-4 rounded-lg border">
                                    <h3 class="title text-xl md:text-2xl font-semibold mb-3">Datos Experimentales</h3>
                                    <table class="w-full text-left">
                                        <thead><tr class="border-b"><th class="py-1">T (K)</th><th class="py-1">k (s⁻¹)</th></tr></thead>
                                        <tbody>
                                            <tr><td class="py-1">300</td><td class="py-1">1.5e-5</td></tr>
                                            <tr><td class="py-1">310</td><td class="py-1">3.5e-5</td></tr>
                                            <tr><td class="py-1">320</td><td class="py-1">7.5e-5</td></tr>
                                            <tr><td class="py-1">330</td><td class="py-1">1.5e-4</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="mt-6 bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                                    <h3 class="title text-xl md:text-2xl font-semibold mb-3">Resultados Calculados</h3>
                                    <p class="text-base md:text-lg">Pendiente (m) = <span id="slopeOutput">-</span></p>
                                    <p class="text-base md:text-lg mt-2">Energía de Activación (Ea) = <span id="eaOutput">-</span> kJ/mol</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 25</p></div>
                    </div>
                </div>

                <div id="slide-26" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-6">Ejercicio Guiado 3: Cálculo de Energía de Activación</h1>
                        <div class="flex flex-col space-y-6">
                            <div class="content-section rounded-lg p-6">
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3"><i class="fas fa-tasks text-blue-600 mr-2"></i>Problema</h3>
                                <p class="text-base md:text-lg text-gray-700 mb-4">Calcular la energía de activación (Ea) para una reacción en la planta piloto de ReactiVida, sabiendo que la constante de velocidad es:</p>
                                <ul class="list-disc list-inside text-base md:text-lg space-y-2 bg-white p-4 rounded-lg">
                                    <li><strong>k₁ = 2.5 x 10⁻⁵ s⁻¹</strong> a <strong>T₁ = 298 K</strong> (25°C)</li>
                                    <li><strong>k₂ = 5.0 x 10⁻⁴ s⁻¹</strong> a <strong>T₂ = 318 K</strong> (45°C)</li>
                                </ul>
                            </div>
                            <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3"><i class="fas fa-calculator text-green-700 mr-2"></i>Resolución Paso a Paso</h3>
                                <p class="text-base md:text-lg mb-2"><strong>1. Usar la forma logarítmica de la ecuación de Arrhenius:</strong></p>
                                <p class="equation text-lg md:text-2xl text-center bg-white p-2 rounded overflow-x-auto whitespace-nowrap">ln(k₂/k₁) = (-Ea/R) · (1/T₂ - 1/T₁)</p>
                                <p class="text-base md:text-lg mt-4 mb-2"><strong>2. Calcular los términos conocidos:</strong></p>
                                <p class="text-base md:text-lg ml-4">ln( (5.0e-4) / (2.5e-5) ) = ln(20) = <strong>2.996</strong></p>
                                <p class="text-base md:text-lg ml-4">(1/318 K) - (1/298 K) = 0.003145 - 0.003356 = <strong>-0.000211 K⁻¹</strong></p>
                                <p class="text-base md:text-lg mt-4 mb-2"><strong>3. Sustituir y despejar Ea:</strong></p>
                                <p class="text-base md:text-lg ml-4">2.996 = (-Ea / 8.314 J/mol·K) · (-0.000211 K⁻¹)</p>
                                <p class="text-base md:text-lg ml-4">2.996 = Ea · (0.00002538 mol/J)</p>
                                <p class="text-base md:text-lg ml-4">Ea = 2.996 / 0.00002538 = 118,045 J/mol</p>
                                <p class="text-xl md:text-2xl font-bold text-center mt-4 text-green-800 bg-white p-3 rounded-lg">Ea ≈ 118 kJ/mol</p>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 26</p></div>
                    </div>
                </div>
                
                <div id="slide-27" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Mecanismos de Reacción</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">La ecuación química global es un resumen, pero no describe cómo ocurre la reacción a nivel molecular. El <strong>mecanismo de reacción</strong> es la secuencia de pasos individuales (reacciones elementales) que transforman los reactivos en productos.</p>
                        <div class="flex flex-col lg:flex-row flex-grow items-center gap-6">
                            <div class="lg:w-1/2">
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3">Reacción Global</h3>
                                <p class="equation text-2xl md:text-3xl text-center bg-blue-50 p-4 rounded-lg">2NO₂(g) + F₂(g) → 2NO₂F(g)</p>
                            </div>
                            <div class="lg:w-1/2">
                                <h3 class="title text-xl md:text-2xl font-semibold mb-3">Mecanismo Propuesto</h3>
                                <div class="bg-gray-50 p-4 rounded-lg text-lg md:text-xl">
                                    <p><strong>Paso 1:</strong> NO₂ + F₂ → NO₂F + F (lento)</p>
                                    <p><strong>Paso 2:</strong> F + NO₂ → NO₂F (rápido)</p>
                                    <div class="definition-box mt-4">
                                        <p class="text-base md:text-lg">El átomo de Flúor (F) es un <strong>intermediario</strong>: se forma y se consume durante la reacción.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 27</p></div>
                    </div>
                </div>

                <div id="slide-28" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Pasos Elementales y Molecularidad</h1>
                        <div class="definition-box">
                            <p class="text-lg md:text-xl"><strong>Definición Clave:</strong> La <strong>molecularidad</strong> se refiere al número de moléculas que reaccionan en un paso elemental. Para estos pasos, la ley de velocidad SÍ se puede escribir directamente a partir de la estequiometría.</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center mt-6">
                            <div class="p-4 bg-gray-100 rounded-lg shadow-sm">
                                <h3 class="text-lg md:text-xl font-semibold mb-2">Unimolecular</h3>
                                <p class="equation text-base md:text-lg">A → Productos</p>
                                <p class="font-mono bg-white p-2 mt-2 rounded">v = k[A]</p>
                            </div>
                            <div class="p-4 bg-gray-100 rounded-lg shadow-sm">
                                <h3 class="text-lg md:text-xl font-semibold mb-2">Bimolecular</h3>
                                <p class="equation text-base md:text-lg">A + B → Productos</p>
                                <p class="font-mono bg-white p-2 mt-2 rounded">v = k[A][B]</p>
                            </div>
                            <div class="p-4 bg-gray-100 rounded-lg shadow-sm">
                                <h3 class="text-lg md:text-xl font-semibold mb-2">Bimolecular</h3>
                                <p class="equation text-base md:text-lg">A + A → Productos</p>
                                <p class="font-mono bg-white p-2 mt-2 rounded">v = k[A]²</p>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 28</p></div>
                    </div>
                </div>

                <div id="slide-29" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">El Paso Determinante de la Velocidad (Paso Lento)</h1>
                        <div class="definition-box">
                            <p class="text-lg md:text-xl"><strong>Definición Clave:</strong> En un mecanismo de varios pasos, la velocidad global de la reacción está determinada por la velocidad del paso más lento, conocido como <strong>paso limitante</strong> o paso determinante de la velocidad.</p>
                        </div>
                        <div class="content-section p-6 rounded-lg">
                            <p class="text-xl md:text-2xl text-center mb-4"><strong>Analogía:</strong> La velocidad a la que salen los coches de un peaje con varios carriles está limitada por el carril más lento.</p>
                            <p class="text-lg md:text-xl font-semibold text-center mt-4">La ley de velocidad predicha por el mecanismo debe coincidir con la ley de velocidad determinada experimentalmente.</p>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 29</p></div>
                    </div>
                </div>

                <div id="slide-30" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Aplicación en ReactiVida: Identificando el Cuello de Botella</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">El análisis del proceso de producción de UltraClean reveló el siguiente mecanismo simplificado:</p>
                        <img src="https://i.imgur.com/r3fGq3D.png" alt="Diagrama del mecanismo de reacción simplificado para UltraClean, mostrando la sulfonación como el paso limitante." class="mx-auto rounded-lg shadow-lg border my-6 w-full max-w-3xl">
                        <div class="p-6 bg-red-50 border-l-4 border-red-500">
                            <p class="text-xl md:text-2xl text-red-800">Se determinó que la <strong>Etapa 1: Sulfonación</strong> era significativamente más lenta que las demás, actuando como el <strong>paso limitante</strong> de toda la línea de producción.</p>
                        </div>
                        <div class="mt-8 w-full text-center">
                             <button id="strategyBtn" class="bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-colors">✨ Generar Estrategias de Optimización</button>
                             <div id="strategyResponse" class="mt-6 text-left"></div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 30</p></div>
                    </div>
                </div>

                <div id="slide-31" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Catálisis: Acelerando Reacciones</h1>
                        <div class="flex flex-col lg:flex-row items-center gap-6">
                            <div class="lg:w-1/2">
                                <div class="definition-box">
                                    <p class="text-lg md:text-xl"><strong>Definición Clave:</strong> Un <strong>catalizador</strong> es una sustancia que aumenta la velocidad de una reacción sin ser consumido, proporcionando un mecanismo de reacción alternativo con una <strong>energía de activación (Ea) más baja</strong>.</p>
                                </div>
                                <ul class="list-disc list-inside text-lg md:text-xl space-y-3 mt-6">
                                    <li>No altera la termodinámica (ΔG).</li>
                                    <li>Se recupera intacto al final.</li>
                                    <li>Puede ser altamente selectivo.</li>
                                </ul>
                            </div>
                            <div class="lg:w-1/2">
                                <div class="relative">
                                    <canvas id="energyProfileChart" height="300"></canvas>
                                    <button id="catalystBtn" class="absolute bottom-4 right-4 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Añadir Catalizador</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 31</p></div>
                    </div>
                </div>

                <div id="slide-32" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Tipos de Catálisis</h1>
                        <div class="flex flex-col lg:flex-row flex-grow items-stretch gap-6">
                            <div class="lg:w-1/2">
                                <div class="content-section p-5 rounded-lg h-full">
                                    <h2 class="title text-xl md:text-2xl font-semibold mb-3">Catálisis Homogénea</h2>
                                    <p class="text-lg md:text-xl text-gray-700">El catalizador y los reactivos están en la <strong>misma fase</strong> (ej. todos en disolución acuosa).</p>
                                    <p class="text-lg md:text-xl mt-4"><strong>Ejemplo:</strong> La catálisis ácida en la formación de ésteres.</p>
                                </div>
                            </div>
                            <div class="lg:w-1/2">
                                <div class="content-section p-5 rounded-lg h-full border-green-500">
                                     <h2 class="title text-xl md:text-2xl font-semibold mb-3">Catálisis Heterogénea</h2>
                                     <p class="text-lg md:text-xl text-gray-700">El catalizador está en una <strong>fase diferente</strong> a la de los reactivos (ej. un catalizador sólido para reactivos gaseosos).</p>
                                     <p class="text-lg md:text-xl mt-4"><strong>Ejemplo Industrial:</strong> El convertidor catalítico en los coches (metales sólidos catalizan reacciones de gases de escape).</p>
                                </div>
                            </div>
                        </div>
                    </div>
                     <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 32</p></div>
                    </div>
                </div>

                <div id="slide-33" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Aplicación en ReactiVida: La Solución Catalítica</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">Para atacar directamente el paso limitante (la sulfonación), el equipo de I+D de ReactiVida implementó una solución de <strong>catálisis heterogénea</strong>.</p>
                        <div class="content-section p-6 rounded-lg">
                            <h3 class="title text-xl md:text-2xl font-semibold mb-3"><i class="fas fa-lightbulb text-yellow-500 mr-3"></i>La Solución</h3>
                            <p class="text-lg md:text-xl text-gray-700">Se introdujo un nuevo <strong>catalizador sólido a base de zeolita modificada</strong> en el reactor de sulfonación. Este catalizador ofreció una nueva ruta de reacción con una Ea significativamente menor.</p>
                        </div>
                        <img src="https://i.imgur.com/uGgCjUu.png" alt="Gráfico de barras mostrando el impacto positivo del catalizador en el tiempo de reacción, consumo energético y capacidad de producción." class="mx-auto rounded-lg shadow-lg border mt-8 w-full max-w-3xl">
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 33</p></div>
                    </div>
                </div>

                <div id="slide-34" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">Resultados Finales en ReactiVida</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">La aplicación sistemática de los principios de cinética química generó mejoras medibles y significativas en todo el proceso productivo.</p>
                        <img src="https://i.imgur.com/9vJq9jH.png" alt="Gráfico de barras comparando los indicadores de rendimiento antes y después de la optimización, mostrando un aumento en la producción y una disminución en tiempo, energía y costo." class="mx-auto rounded-lg shadow-lg border w-full max-w-3xl">
                         <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-6 text-center text-xl">
                            <div class="p-4 bg-gray-100 rounded-lg"><strong>Producción:</strong><br><span class="text-3xl font-bold text-green-600">+35%</span></div>
                            <div class="p-4 bg-gray-100 rounded-lg"><strong>Eficiencia Energética:</strong><br><span class="text-3xl font-bold text-green-600">+22%</span></div>
                            <div class="p-4 bg-gray-100 rounded-lg"><strong>Costos Operativos:</strong><br><span class="text-3xl font-bold text-green-600">-18%</span></div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 34</p></div>
                    </div>
                </div>
                
                <div id="slide-35" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content flex flex-col items-center justify-center">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-12">Conclusiones y Discusión Final</h1>
                        <div class="text-lg md:text-2xl text-gray-700 space-y-8 max-w-4xl w-full">
                            <p><strong>1.</strong> ¿Qué factor de la cinética química (concentración, temperatura, catálisis) tuvo mayor impacto en la optimización del proceso de ReactiVida?</p>
                            <p><strong>2.</strong> ¿Cómo podrían aplicarse estos principios a otros procesos industriales (farmacéutica, alimentos, petroquímica)?</p>
                            <p><strong>3.</strong> ¿Qué limitaciones o nuevos desafíos (costos, seguridad, ambientales) podrían surgir al implementar estas optimizaciones en plantas de mayor escala?</p>
                            <div class="mt-8">
                                <label for="reflexion" class="font-semibold text-lg">Mis Reflexiones:</label>
                                <textarea id="reflexion" class="w-full mt-2 p-2 border rounded-lg text-base" rows="4" placeholder="Escribe aquí tus ideas y conclusiones..."></textarea>
                            </div>
                            <div class="mt-6 text-center">
                                <button id="expertBtn" class="bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-colors">✨ Solicitar Análisis del Experto Industrial</button>
                                <div id="expertResponse" class="mt-6 text-left"></div>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 35</p></div>
                    </div>
                </div>

                <div id="slide-36" class="slide">
                    <div class="accent-bar w-full"></div>
                    <div class="slide-content">
                        <h1 class="title text-2xl md:text-4xl font-bold mb-8">✨ Glosario Interactivo con IA</h1>
                        <p class="text-lg md:text-xl text-gray-700 mb-6">¿Tienes dudas sobre algún término? Escríbelo aquí y obtén una explicación clara y concisa generada por IA.</p>
                        <div class="flex items-center gap-4">
                            <input type="text" id="glossaryInput" class="w-full p-3 border rounded-lg text-lg" placeholder="Ej: Energía de Activación, Vida Media...">
                            <button id="glossaryBtn" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700">Definir</button>
                        </div>
                        <div id="glossaryResponse" class="mt-6"></div>
                    </div>
                    <div class="footer-bar w-full py-4 px-10 bg-gray-50 flex justify-between items-center">
                        <div><p class="font-medium">Cinética Aplicada</p></div>
                        <div><p class="text-gray-600">Diapositiva 36</p></div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const sidebar = document.getElementById('sidebar');
        const menuButton = document.getElementById('menu-button');
        const slides = document.querySelectorAll('.slide');
        const navLinks = document.querySelectorAll('.nav-link');
        let currentSlide = 0;
        let arrheniusChart = null;
        let catalystChart = null;
        let collisionAnimation;

        // --- Gemini API Call Function ---
        async function callGemini(prompt, outputElement) {
            outputElement.innerHTML = '<div class="loader"></div>';
            
            let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
            const payload = { contents: chatHistory };
            const apiKey = ""; // Será proveído por el entorno
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    outputElement.innerHTML = `<div class="gemini-response">${text}</div>`;
                } else {
                    throw new Error("Respuesta inesperada de la API.");
                }
            } catch (error) {
                console.error("Error al llamar a la API de Gemini:", error);
                outputElement.innerHTML = `<div class="gemini-response text-red-600">Error: No se pudo obtener la respuesta. Por favor, inténtelo de nuevo.</div>`;
            }
        }

        // --- Navegación ---
        function showSlide(index) {
            slides.forEach((slide, i) => slide.classList.toggle('active', i === index));
            navLinks.forEach((link, i) => link.classList.toggle('active', i === index));
            
            const activeLink = navLinks[index];
            if (activeLink) {
                const topPos = activeLink.offsetTop - sidebar.offsetTop;
                sidebar.scrollTop = topPos - 50;
            }

            currentSlide = index;

            if (index === 21) startCollisionAnimation(); else stopCollisionAnimation();
            if (index === 24 && !arrheniusChart) renderArrheniusPlot();
            if (index === 30 && !catalystChart) renderCatalystPlot();
        }

        navLinks.forEach((link, index) => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                showSlide(index);
                sidebar.classList.remove('open');
            });
        });

        menuButton.addEventListener('click', () => sidebar.classList.toggle('open'));
        document.addEventListener('click', (e) => {
            if (sidebar.classList.contains('open') && !sidebar.contains(e.target) && !menuButton.contains(e.target)) {
                sidebar.classList.remove('open');
            }
        });

        showSlide(0);

        // --- Lógica de Componentes Interactivos ---
        document.querySelectorAll('.accordion-button').forEach(button => {
            button.addEventListener('click', () => {
                const content = button.nextElementSibling;
                content.style.display = content.style.display === 'block' ? 'none' : 'block';
            });
        });

        // --- Lógica de la API de Gemini ---
        document.getElementById('tutorBtn')?.addEventListener('click', () => {
            const prompt = "Eres un tutor de química experto. Explica de forma sencilla y clara los principales factores que limitan la velocidad de producción en una planta química industrial, como la concentración, temperatura y catalizadores, dando un ejemplo práctico para cada uno.";
            callGemini(prompt, document.getElementById('tutorResponse'));
        });

        document.getElementById('strategyBtn')?.addEventListener('click', () => {
            const prompt = "Eres un ingeniero químico experto en optimización de procesos. Para un proceso de fabricación de detergentes donde la etapa de sulfonación es el paso limitante de la velocidad, genera 3 estrategias de optimización innovadoras y explica brevemente cada una.";
            callGemini(prompt, document.getElementById('strategyResponse'));
        });

        document.getElementById('expertBtn')?.addEventListener('click', () => {
            const prompt = "Como experto en química industrial, proporciona un análisis detallado para las siguientes preguntas: 1. ¿Qué factor (concentración, temperatura, catálisis) tuvo mayor impacto costo-beneficio en ReactiVida? 2. ¿Cómo se aplican estos principios en la industria farmacéutica? 3. ¿Qué desafíos de seguridad surgen al aumentar la temperatura en un reactor a gran escala?. Enfócate en el balance costo-beneficio y en los desafíos del mundo real.";
            callGemini(prompt, document.getElementById('expertResponse'));
        });

        document.getElementById('glossaryBtn')?.addEventListener('click', () => {
            const term = document.getElementById('glossaryInput').value;
            if (term.trim() === '') return;
            const prompt = `Explica el concepto químico de "${term}" de una manera sencilla y concisa para un estudiante universitario.`;
            callGemini(prompt, document.getElementById('glossaryResponse'));
        });


        // --- Lógica de Simulaciones (sin cambios) ---
        const concAInput = document.getElementById('concA');
        const concBInput = document.getElementById('concB');
        const runExpBtn = document.getElementById('runExpBtn');
        const velocityOutput = document.getElementById('velocityOutput');

        if(runExpBtn) {
            runExpBtn.addEventListener('click', () => {
                const a = parseFloat(concAInput.value);
                const b = parseFloat(concBInput.value);
                if(isNaN(a) || isNaN(b) || a <= 0 || b <= 0) {
                    velocityOutput.textContent = 'Valores inválidos';
                    return;
                }
                const k = 0.4;
                const velocity = k * a * Math.pow(b, 2);
                velocityOutput.textContent = velocity.toExponential(2) + ' M/s';
            });
        }

        const collisionCanvas = document.getElementById('collisionCanvas');
        const tempSlider = document.getElementById('tempSlider');
        const concSlider = document.getElementById('concSlider');
        const effectiveCollisionsEl = document.getElementById('effectiveCollisions');
        let particles = [];
        let effectiveCollisions = 0;

        function startCollisionAnimation() {
            if (!collisionCanvas) return;
            const ctx = collisionCanvas.getContext('2d');
            let animationFrameId;

            function setup() {
                collisionCanvas.width = collisionCanvas.offsetWidth;
                collisionCanvas.height = collisionCanvas.offsetHeight;
                effectiveCollisions = 0;
                if(effectiveCollisionsEl) effectiveCollisionsEl.textContent = 0;
                particles = [];
                const numParticles = concSlider.value;
                for (let i = 0; i < numParticles; i++) {
                    particles.push({
                        x: Math.random() * collisionCanvas.width,
                        y: Math.random() * collisionCanvas.height,
                        vx: (Math.random() - 0.5) * tempSlider.value,
                        vy: (Math.random() - 0.5) * tempSlider.value,
                        radius: 5,
                        color: '#3B82F6'
                    });
                }
            }

            function animate() {
                ctx.clearRect(0, 0, collisionCanvas.width, collisionCanvas.height);
                particles.forEach((p, i) => {
                    p.x += p.vx;
                    p.y += p.vy;

                    if (p.x < p.radius || p.x > collisionCanvas.width - p.radius) p.vx *= -1;
                    if (p.y < p.radius || p.y > collisionCanvas.height - p.radius) p.vy *= -1;

                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fillStyle = p.color;
                    ctx.fill();

                    for (let j = i + 1; j < particles.length; j++) {
                        const other = particles[j];
                        const dx = other.x - p.x;
                        const dy = other.y - p.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        if (distance < p.radius + other.radius) {
                            if (Math.random() < tempSlider.value / 20) {
                                effectiveCollisions++;
                                if(effectiveCollisionsEl) effectiveCollisionsEl.textContent = effectiveCollisions;
                            }
                        }
                    }
                });
                collisionAnimation = requestAnimationFrame(animate);
            }
            
            setup();
            animate();

            tempSlider.oninput = () => {
                particles.forEach(p => {
                    p.vx = (Math.random() - 0.5) * tempSlider.value;
                    p.vy = (Math.random() - 0.5) * tempSlider.value;
                });
            };
            concSlider.oninput = setup;
        }

        function stopCollisionAnimation() {
            cancelAnimationFrame(collisionAnimation);
        }

        function renderArrheniusPlot() {
            const ctx = document.getElementById('arrheniusPlot')?.getContext('2d');
            if (!ctx) return;
            const T = [300, 310, 320, 330];
            const k = [1.5e-5, 3.5e-5, 7.5e-5, 1.5e-4];
            const invT = T.map(t => 1 / t);
            const lnK = k.map(val => Math.log(val));
            
            const n = T.length;
            const sumX = invT.reduce((a, b) => a + b, 0);
            const sumY = lnK.reduce((a, b) => a + b, 0);
            const sumXY = invT.map((x, i) => x * lnK[i]).reduce((a, b) => a + b, 0);
            const sumX2 = invT.map(x => x * x).reduce((a, b) => a + b, 0);
            const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);
            
            document.getElementById('slopeOutput').textContent = slope.toFixed(2);
            const R = 8.314;
            const Ea = -slope * R / 1000;
            document.getElementById('eaOutput').textContent = Ea.toFixed(2);

            arrheniusChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Datos Experimentales',
                        data: invT.map((val, i) => ({x: val, y: lnK[i]})),
                        backgroundColor: '#3182ce'
                    }]
                },
                options: {
                    scales: {
                        x: { title: { display: true, text: '1/T (K⁻¹)' } },
                        y: { title: { display: true, text: 'ln(k)' } }
                    }
                }
            });
        }

        function renderCatalystPlot() {
            const catalystBtn = document.getElementById('catalystBtn');
            if(!catalystBtn) return;
            const ctx = document.getElementById('energyProfileChart').getContext('2d');
            const initialData = {
                labels: ['Reactivos', 'Estado de Transición', 'Productos'],
                datasets: [{
                    label: 'Sin Catalizador',
                    data: [20, 100, 40],
                    borderColor: '#e53e3e',
                    backgroundColor: 'rgba(229, 62, 62, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            };
            catalystChart = new Chart(ctx, { type: 'line', data: initialData, options: { responsive: true, maintainAspectRatio: false } });

            catalystBtn.addEventListener('click', () => {
                if(catalystChart.data.datasets.length < 2) {
                    const catalyzedDataset = {
                        label: 'Con Catalizador',
                        data: [20, 70, 40],
                        borderColor: '#38a169',
                        backgroundColor: 'rgba(56, 161, 105, 0.1)',
                        tension: 0.4,
                        fill: true
                    };
                    catalystChart.data.datasets.push(catalyzedDataset);
                    catalystChart.update();
                    catalystBtn.textContent = "Quitar Catalizador";
                } else {
                    catalystChart.data.datasets.pop();
                    catalystChart.update();
                    catalystBtn.textContent = "Añadir Catalizador";
                }
            });
        }
    </script>
</body>
</html>
