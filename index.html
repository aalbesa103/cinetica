<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentación: Cinética Química</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        .slide {
            display: none;
            min-height: 80vh;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .slide.active {
            display: flex;
            opacity: 1;
        }
        .formula {
            font-family: 'Courier New', Courier, monospace;
            background-color: #e2e8f0;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-weight: bold;
        }
        .btn-nav {
            transition: background-color 0.3s, transform 0.1s;
        }
        .btn-nav:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .btn-nav:hover:not(:disabled) {
            transform: translateY(-2px);
        }
        .interactive-btn {
            transition: all 0.2s ease-in-out;
        }
        .interactive-btn:hover {
            transform: scale(1.05);
        }
        .calculation-step {
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s ease-out;
        }
        .calculation-step.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .svg-animation-container {
            width: 100%;
            max-width: 400px;
            margin: auto;
        }
        .snapshot-box {
            border: 2px solid #60a5fa;
            background-color: #eff6ff;
            border-radius: 0.5rem;
            padding: 0.5rem;
            position: relative;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
        }
        .particle {
            width: 12px;
            height: 12px;
            background-color: #ef4444;
            border-radius: 50%;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">

    <main id="presentation-container" class="bg-white w-full max-w-5xl shadow-2xl rounded-xl overflow-hidden">
        <!-- Contenedor de Diapositivas -->
        <div class="p-8 md:p-12">
            <!-- Diapositiva 1: Título -->
            <section class="slide" id="slide-1">
                <div class="w-full flex flex-col justify-center items-center text-center">
                    <h1 class="text-4xl md:text-6xl font-bold text-gray-800">Diagnóstico y Optimización Cinética</h1>
                    <p class="text-2xl md:text-3xl text-indigo-600 mt-4">Un Caso de Estudio en Remediación de Gases Industriales</p>
                    <div class="mt-12 border-t-2 border-gray-200 pt-4">
                        <p class="text-xl text-gray-600">Presentado por:</p>
                        <p class="text-2xl font-bold text-gray-700">[Tu Nombre/Título]</p>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 2: Introducción Visual -->
            <section class="slide" id="slide-2">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Introducción Visual a la Velocidad de Reacción</h2>
                    <p class="text-lg text-center mb-6">Algunas reacciones son explosivamente rápidas, mientras que otras tardan una eternidad.</p>
                    <div class="flex flex-col md:flex-row justify-around items-center gap-6">
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1559160473-c35256371369?q=80&w=800" alt="[Imagen de una fogata]" class="rounded-lg shadow-md w-full max-w-sm h-64 object-cover">
                            <p class="mt-3 text-xl font-semibold">Combustión: Proceso Rápido</p>
                        </div>
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1614716232212-093455955b41?q=80&w=800" alt="[Imagen de metal oxidado]" class="rounded-lg shadow-md w-full max-w-sm h-64 object-cover">
                            <p class="mt-3 text-xl font-semibold">Oxidación: Proceso Lento</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 3: El Problema -->
            <section class="slide" id="slide-3">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">El Problema de la Fábrica y la Paradoja Cinética</h2>
                    <p class="text-lg mb-4">Una planta industrial debe eliminar los contaminantes <span class="formula">NO₂</span> y <span class="formula">CO</span> de sus emisiones. La reacción propuesta es:</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">NO₂(g) + CO(g) → NO(g) + CO₂(g)</span></p>
                    <p class="text-lg mb-4">La termodinámica nos dice que esta reacción es espontánea ($ \Delta G < 0 $), pero en la práctica, es demasiado lenta para ser útil.</p>
                    <blockquote class="border-l-4 border-indigo-500 pl-4 italic text-gray-600">
                        <strong>Analogía:</strong> Al igual que un diamante ($C$) no se convierte espontáneamente en grafito, nuestra reacción necesita un "empujón". La Termodinámica nos dice si podemos llegar, la Cinética nos dice cómo y a qué velocidad.
                    </blockquote>
                </div>
            </section>

            <!-- Diapositiva 4: Plan de Acción -->
            <section class="slide" id="slide-4">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Nuestro Plan de Acción</h2>
                    <p class="text-lg mb-6">Como consultores, abordaremos el problema con un diagnóstico sistemático en 4 fases:</p>
                    <ul class="space-y-4 text-xl">
                        <li class="p-4 bg-blue-50 rounded-lg shadow-sm"><strong class="text-blue-600">Fase 1:</strong> Medir la velocidad actual y entender cómo depende de los reactivos. <span class="font-mono text-sm block mt-1">(Leyes de Velocidad)</span></li>
                        <li class="p-4 bg-green-50 rounded-lg shadow-sm"><strong class="text-green-600">Fase 2:</strong> Evaluar el efecto de la temperatura como posible solución. <span class="font-mono text-sm block mt-1">(Energía de Activación)</span></li>
                        <li class="p-4 bg-yellow-50 rounded-lg shadow-sm"><strong class="text-yellow-600">Fase 3:</strong> Investigar el "porqué" de la lentitud a nivel molecular. <span class="font-mono text-sm block mt-1">(Mecanismos de Reacción)</span></li>
                        <li class="p-4 bg-purple-50 rounded-lg shadow-sm"><strong class="text-purple-600">Fase 4:</strong> Proponer la solución de ingeniería definitiva. <span class="font-mono text-sm block mt-1">(Catálisis)</span></li>
                    </ul>
                </div>
            </section>

            <!-- Diapositiva 5: Factores que afectan la velocidad -->
            <section class="slide" id="slide-5">
                 <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Factores que Afectan la Velocidad de Reacción</h2>
                    <p class="text-lg mb-8">Nuestro plan de acción se basa en analizar los factores clave que controlan la rapidez de una reacción:</p>
                    <ul class="space-y-6 text-2xl">
                        <li class="p-5 bg-blue-50 rounded-lg shadow-sm flex items-center gap-4">
                            <span class="text-4xl">1️⃣</span>
                            <div>
                                <strong class="text-blue-700">Concentración de los Reactivos</strong>
                                <p class="text-lg text-gray-600">¿Cómo influye la cantidad de cada reactivo?</p>
                            </div>
                        </li>
                        <li class="p-5 bg-green-50 rounded-lg shadow-sm flex items-center gap-4">
                            <span class="text-4xl">2️⃣</span>
                            <div>
                                <strong class="text-green-700">Temperatura</strong>
                                <p class="text-lg text-gray-600">¿Calentar o enfriar el sistema ayuda?</p>
                            </div>
                        </li>
                        <li class="p-5 bg-purple-50 rounded-lg shadow-sm flex items-center gap-4">
                            <span class="text-4xl">3️⃣</span>
                            <div>
                                <strong class="text-purple-700">Presencia de un Catalizador</strong>
                                <p class="text-lg text-gray-600">¿Podemos usar una sustancia para crear un "atajo"?</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>
            
            <!-- Diapositiva 6: ¿Qué es la Velocidad? -->
            <section class="slide" id="slide-6">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Fase 1: ¿Qué es la Velocidad de Reacción?</h2>
                    <p class="text-lg text-gray-600 mb-4">Es la medida del cambio en la concentración de un reactivo o producto a lo largo del tiempo. Para una reacción $A \rightarrow B$, la situación típica es la siguiente:</p>
                    <canvas id="concVsTimeChart"></canvas>
                    <p class="mt-4 text-lg text-center">La velocidad cambia a medida que la reacción procede, ya que las concentraciones varían.</p>
                </div>
            </section>

            <!-- Diapositiva 7: Velocidad Media -->
            <section class="slide" id="slide-7">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Cálculo de la Velocidad Media</h2>
                    <p class="text-lg mb-4">Podemos calcular una velocidad <strong>media</strong> en un intervalo de tiempo ($\Delta t$). Por ejemplo, en los primeros 10 segundos, la concentración del reactivo A cambia de 1.00 M a 0.74 M.</p>
                    <div class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg">
                        <span class="formula">v_media = - &Delta;[A] / &Delta;t = - ( [A]_final - [A]_inicial ) / ( t_final - t_inicial )</span>
                    </div>
                    <div class="text-xl text-center my-4 p-4 bg-blue-100 rounded-lg">
                        <span class="formula">v_media = - ( 0.74 M - 1.00 M ) / ( 10 s - 0 s ) = 0.026 M/s</span>
                    </div>
                    <p class="text-lg mt-4">El signo negativo se usa para que la velocidad de desaparición de un reactivo sea un valor positivo.</p>
                </div>
            </section>

            <!-- Diapositiva 8: Velocidad Cambia -->
            <section class="slide" id="slide-8">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Velocidad Cambia con el Tiempo</h2>
                    <p class="text-lg mb-4">La velocidad media <strong>no es constante</strong>. Disminuye a medida que los reactivos se consumen. Consideremos la reacción:</p>
                    <p class="text-center text-lg mb-4"><span class="formula">C₄H₉Cl(aq) + H₂O(l) → C₄H₉OH(aq) + HCl(aq)</span></p>
                    <table class="w-full max-w-lg mx-auto text-center border-collapse mb-4">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2 border">Intervalo de Tiempo (s)</th>
                                <th class="p-2 border">Velocidad Media (M/s)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td class="p-2 border">0 - 50</td><td class="p-2 border">1.9 x 10<sup>-4</sup></td></tr>
                            <tr><td class="p-2 border bg-gray-50">50 - 100</td><td class="p-2 border bg-gray-50">1.7 x 10<sup>-4</sup></td></tr>
                            <tr><td class="p-2 border">100 - 150</td><td class="p-2 border">1.6 x 10<sup>-4</sup></td></tr>
                            <tr><td class="p-2 border bg-gray-50">150 - 200</td><td class="p-2 border bg-gray-50">1.4 x 10<sup>-4</sup></td></tr>
                        </tbody>
                    </table>
                    <p class="text-lg mt-4">Esto nos obliga a buscar una medida más precisa: la <strong>velocidad instantánea</strong>.</p>
                </div>
            </section>

            <!-- Diapositiva 9: Velocidad Instantánea -->
            <section class="slide" id="slide-9">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Definición Formal: Velocidad Instantánea</h2>
                    <p class="text-lg mb-4">Para un análisis preciso, usamos la <strong>velocidad instantánea</strong>, que es la pendiente de la recta tangente a la curva de concentración en un tiempo `t`.</p>
                    <img src="https://i.imgur.com/gJj6h9k.png" alt="[Gráfico de concentración contra tiempo, mostrando dos rectas tangentes en diferentes momentos. La tangente al principio es más pronunciada que la tangente posterior, indicando que la velocidad disminuye con el tiempo.]" class="mx-auto rounded-lg shadow-md my-4 w-full max-w-2xl">
                    <p class="text-lg mb-4">Para una reacción general: <span class="formula">aA + bB → cC + dD</span>, se define como:</p>
                    <div class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg">
                        <span class="formula">v = - (1/a)d[A]/dt = - (1/b)d[B]/dt = + (1/c)d[C]/dt = + (1/d)d[D]/dt</span>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 10: Ley de Velocidad -->
            <section class="slide" id="slide-10">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Ley de Velocidad</h2>
                    <p class="text-lg mb-4">Experimentalmente, la velocidad se relaciona con la concentración de los reactivos mediante la Ley de Velocidad:</p>
                    <div class="text-xl text-center my-4 p-4 bg-indigo-100 rounded-lg">
                        <span class="formula">v = k[A]<sup>m</sup>[B]<sup>n</sup></span>
                    </div>
                    <ul class="space-y-3 text-lg">
                        <li><strong class="text-indigo-600">k:</strong> La constante de velocidad (depende de T).</li>
                        <li><strong class="text-indigo-600">m, n:</strong> Los órdenes de reacción respecto a A y B.</li>
                        <li><strong class="text-indigo-600">m + n:</strong> El orden total de la reacción.</li>
                        <li class="pt-2"><strong class="text-red-600">Importante:</strong> Los órdenes <strong class="text-red-600">DEBEN</strong> determinarse experimentalmente.</li>
                    </ul>
                </div>
            </section>

            <!-- Diapositiva 11: Órdenes vs Coeficientes -->
            <section class="slide" id="slide-11">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Órdenes vs. Coeficientes Estequiométricos</h2>
                    <p class="text-lg mb-4 text-red-600 font-bold">¡Un error común es asumir que los órdenes de reacción son los coeficientes estequiométricos!</p>
                    <p class="text-lg mb-4">Consideremos dos reacciones aparentemente similares:</p>
                    <div class="space-y-4">
                        <div class="p-3 bg-gray-50 rounded-md">
                            <p><span class="formula">H₂(g) + I₂(g) → 2HI(g)</span></p>
                            <p>Ley experimental: <span class="formula">v = k[H₂][I₂]</span> (Los órdenes coinciden)</p>
                        </div>
                        <div class="p-3 bg-gray-50 rounded-md">
                            <p><span class="formula">H₂(g) + Br₂(g) → 2HBr(g)</span></p>
                            <p>Ley experimental: <span class="formula">v = k[H₂][Br₂]<sup>1/2</sup></span> (Los órdenes NO coinciden)</p>
                        </div>
                    </div>
                    <p class="mt-4 text-lg font-semibold">Conclusión: La ley de velocidad solo puede conocerse a través del experimento.</p>
                </div>
            </section>

            <!-- Diapositiva 12: Leyes Integradas -->
            <section class="slide" id="slide-12">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Leyes de Velocidad Integradas</h2>
                    <p class="text-lg mb-4">Al integrar la ley de velocidad, obtenemos ecuaciones que relacionan la concentración con el tiempo. Cada orden tiene una gráfica lineal característica:</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                        <div class="p-4 bg-gray-100 rounded-lg">
                            <h3 class="font-bold text-xl">Orden Cero</h3>
                            <p class="font-mono text-sm mt-2"><span class="formula">[A] = [A]₀ - kt</span></p>
                            <p class="mt-2">Linealiza: <strong class="text-blue-600">[A] vs. t</strong></p>
                        </div>
                        <div class="p-4 bg-gray-100 rounded-lg">
                            <h3 class="font-bold text-xl">Orden Uno</h3>
                            <p class="font-mono text-sm mt-2"><span class="formula">ln[A] = ln[A]₀ - kt</span></p>
                            <p class="mt-2">Linealiza: <strong class="text-green-600">ln[A] vs. t</strong></p>
                        </div>
                        <div class="p-4 bg-gray-100 rounded-lg">
                            <h3 class="font-bold text-xl">Orden Dos</h3>
                            <p class="font-mono text-sm mt-2"><span class="formula">1/[A] = 1/[A]₀ + kt</span></p>
                            <p class="mt-2">Linealiza: <strong class="text-yellow-600">1/[A] vs. t</strong></p>
                        </div>
                    </div>
                    <canvas id="integratedLawsChart" class="mt-4"></canvas>
                </div>
            </section>

            <!-- Diapositiva 13: Orden Cero (Derivación) -->
            <section class="slide" id="slide-13">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Leyes Integradas: Orden Cero</h2>
                    <p class="text-lg mb-4">Para una reacción de orden cero, la velocidad es constante e independiente de la concentración del reactivo.</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">- d[A] / dt = k</span></p>
                    <p class="text-lg mb-4">Separando variables e integrando desde el tiempo $t=0$ (con concentración $[A]_0$) hasta un tiempo $t$ (con concentración $[A]$):</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">∫ d[A] = -k ∫ dt</span></p>
                    <p class="text-lg mb-4">Obtenemos la ecuación de la recta:</p>
                    <div class="text-xl text-center my-4 p-4 bg-blue-100 rounded-lg">
                        <span class="formula">[A] = [A]₀ - kt</span>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 14: Orden Cero (Vida Media) -->
            <section class="slide" id="slide-14">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Vida Media para Orden Cero</h2>
                    <p class="text-lg mb-4">El tiempo de vida media ($t_{1/2}$) es el tiempo necesario para que la concentración del reactivo se reduzca a la mitad de su valor inicial, es decir, $[A] = [A]_0 / 2$.</p>
                    <p class="text-lg mb-4">Sustituyendo en la ley integrada:</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">[A]₀ / 2 = [A]₀ - k * t₁/₂</span></p>
                    <p class="text-lg mb-4">Despejando $t_{1/2}$:</p>
                    <div class="text-xl text-center my-4 p-4 bg-blue-100 rounded-lg">
                        <span class="formula">t₁/₂ = [A]₀ / 2k</span>
                    </div>
                    <p class="text-lg mt-4 font-semibold text-red-600">Nota: Para una reacción de orden cero, la vida media depende de la concentración inicial.</p>
                </div>
            </section>

            <!-- Diapositiva 15: Orden Uno (Derivación) -->
            <section class="slide" id="slide-15">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Leyes Integradas: Orden Uno</h2>
                    <p class="text-lg mb-4">Para una reacción de primer orden, la velocidad es directamente proporcional a la concentración del reactivo.</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">- d[A] / dt = k[A]</span></p>
                    <p class="text-lg mb-4">Separando variables e integrando:</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">∫ (1/[A]) d[A] = -k ∫ dt</span></p>
                    <p class="text-lg mb-4">Obtenemos la ecuación logarítmica:</p>
                    <div class="text-xl text-center my-4 p-4 bg-green-100 rounded-lg">
                        <span class="formula">ln[A] = ln[A]₀ - kt</span>
                    </div>
                </div>
            </section>
            
            <!-- Diapositiva 16: Vida Media Orden 1 -->
            <section class="slide" id="slide-16">
                   <div class="w-full">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Vida Media para Orden Uno</h2>
                        <div class="flex flex-col md:flex-row gap-6 items-center">
                            <div class="w-full md:w-1/2">
                                <p class="text-lg mb-2">Sustituyendo $[A] = [A]_0 / 2$ en la ley integrada:</p>
                                <p class="text-lg text-center p-2 bg-gray-100 rounded-lg"><span class="formula">ln([A]₀/2) = ln[A]₀ - k*t₁/₂</span></p>
                                <p class="text-lg text-center p-2 my-2 bg-gray-100 rounded-lg"><span class="formula">ln[A]₀ - ln(2) = ln[A]₀ - k*t₁/₂</span></p>
                                <p class="text-lg mb-2">Obtenemos la fórmula, que es **independiente** de la concentración inicial:</p>
                                <div class="text-xl text-center p-3 bg-green-100 rounded-lg">
                                    <span class="formula">t₁/₂ = ln(2) / k ≈ 0.693 / k</span>
                                </div>
                            </div>
                            <div class="w-full md:w-1/2">
                                <img src="https://i.imgur.com/4h2Z7g3.png" alt="Gráfico mostrando que una k pequeña resulta en una vida media larga y una k grande resulta en una vida media corta." class="rounded-lg shadow-md">
                            </div>
                        </div>
                        <div class="relative h-80 mt-6">
                            <canvas id="halfLifeChart2"></canvas>
                            <div id="snapshot-container" class="absolute top-0 left-0 w-full h-full pointer-events-none"></div>
                         </div>
                </div>
            </section>

            <!-- Diapositiva 17: Orden Dos (Derivación) -->
            <section class="slide" id="slide-17">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Leyes Integradas: Orden Dos</h2>
                    <p class="text-lg mb-4">Para una reacción de segundo orden, la velocidad es proporcional al cuadrado de la concentración del reactivo.</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">- d[A] / dt = k[A]²</span></p>
                    <p class="text-lg mb-4">Separando variables e integrando:</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">∫ (1/[A]²) d[A] = -k ∫ dt</span></p>
                    <p class="text-lg mb-4">Obtenemos la ecuación linealizada:</p>
                    <div class="text-xl text-center my-4 p-4 bg-yellow-100 rounded-lg">
                        <span class="formula">1/[A] = 1/[A]₀ + kt</span>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 18: Orden Dos (Vida Media) -->
            <section class="slide" id="slide-18">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Vida Media para Orden Dos</h2>
                    <div class="flex flex-col md:flex-row gap-6 items-center">
                        <div class="w-full md:w-1/2">
                            <p class="text-lg mb-2">Sustituyendo $[A] = [A]_0 / 2$:</p>
                            <p class="text-lg text-center p-2 bg-gray-100 rounded-lg"><span class="formula">1/([A]₀/2) = 1/[A]₀ + k*t₁/₂</span></p>
                            <p class="text-lg text-center p-2 my-2 bg-gray-100 rounded-lg"><span class="formula">2/[A]₀ = 1/[A]₀ + k*t₁/₂</span></p>
                            <p class="text-lg mb-2">Obtenemos la fórmula:</p>
                            <div class="text-xl text-center p-3 bg-yellow-100 rounded-lg">
                                <span class="formula">t₁/₂ = 1 / (k[A]₀)</span>
                            </div>
                            <p class="text-lg mt-4 font-semibold text-red-600">Nota: La vida media depende inversamente de la concentración inicial.</p>
                        </div>
                        <div class="w-full md:w-1/2">
                            <img src="https://i.imgur.com/uG3sP2d.png" alt="Gráfico de linealización para una reacción de segundo orden, mostrando 1/[C] vs tiempo, con una pendiente positiva igual a k." class="rounded-lg shadow-md">
                        </div>
                    </div>
                </div>
            </section>

             <!-- Diapositiva 19: Visualización Vida Media Orden 2 -->
            <section class="slide" id="slide-19">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Visualización de la Vida Media (Orden 2)</h2>
                    <p class="text-lg mb-4 text-center">A diferencia del orden 1, en una reacción de segundo orden, la vida media se duplica en cada intervalo sucesivo.</p>
                    <img src="https://i.imgur.com/aQe2j0j.png" alt="Gráfico que muestra que para una reacción de segundo orden, cada vida media sucesiva es el doble de la anterior." class="mx-auto rounded-lg shadow-md my-4 w-full max-w-3xl">
                </div>
            </section>

            <!-- Diapositiva 20: Tabla Resumen -->
            <section class="slide" id="slide-20">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Resumen de Leyes de Velocidad</h2>
                    <table class="w-full text-center border-collapse">
                        <thead>
                            <tr class="bg-gray-200 text-lg">
                                <th class="p-2 border">Orden</th>
                                <th class="p-2 border">Ley de Velocidad</th>
                                <th class="p-2 border">Ley Integrada</th>
                                <th class="p-2 border">Vida Media</th>
                                <th class="p-2 border">Unidades de k</th>
                            </tr>
                        </thead>
                        <tbody class="text-lg">
                            <tr class="bg-blue-50">
                                <td class="p-2 border font-bold">Cero</td>
                                <td class="p-2 border"><span class="formula">v = k</span></td>
                                <td class="p-2 border"><span class="formula">[A] = [A]₀ - kt</span></td>
                                <td class="p-2 border"><span class="formula">t₁/₂ = [A]₀/2k</span></td>
                                <td class="p-2 border"><span class="formula">M·s⁻¹</span></td>
                            </tr>
                            <tr class="bg-green-50">
                                <td class="p-2 border font-bold">Uno</td>
                                <td class="p-2 border"><span class="formula">v = k[A]</span></td>
                                <td class="p-2 border"><span class="formula">ln[A] = ln[A]₀ - kt</span></td>
                                <td class="p-2 border"><span class="formula">t₁/₂ = ln(2)/k</span></td>
                                <td class="p-2 border"><span class="formula">s⁻¹</span></td>
                            </tr>
                            <tr class="bg-yellow-50">
                                <td class="p-2 border font-bold">Dos</td>
                                <td class="p-2 border"><span class="formula">v = k[A]²</span></td>
                                <td class="p-2 border"><span class="formula">1/[A] = 1/[A]₀ + kt</span></td>
                                <td class="p-2 border"><span class="formula">t₁/₂ = 1/(k[A]₀)</span></td>
                                <td class="p-2 border"><span class="formula">M⁻¹·s⁻¹</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Diapositiva 21: Determinación Gráfica -->
            <section class="slide" id="slide-21">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Determinación Gráfica del Orden</h2>
                    <p class="text-lg mb-4">Un método poderoso para determinar el orden es graficar los datos experimentales de [Concentración] vs. Tiempo de tres maneras diferentes:</p>
                    <ul class="space-y-3 text-xl text-center">
                        <li>Si el gráfico de <strong class="text-blue-600">[A] vs. t</strong> es una línea recta → <strong class="text-blue-600">Orden Cero</strong>.</li>
                        <li>Si el gráfico de <strong class="text-green-600">ln[A] vs. t</strong> es una línea recta → <strong class="text-green-600">Orden Uno</strong>.</li>
                        <li>Si el gráfico de <strong class="text-yellow-600">1/[A] vs. t</strong> es una línea recta → <strong class="text-yellow-600">Orden Dos</strong>.</li>
                    </ul>
                    <p class="mt-6 text-lg">Este método gráfico complementa al método de las velocidades iniciales que usaremos para nuestro caso de estudio.</p>
                </div>
            </section>

            <!-- Diapositiva 22: Método Velocidades Iniciales -->
            <section class="slide" id="slide-22">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Método de las Velocidades Iniciales</h2>
                    <p class="text-lg mb-4">Este método consiste en comparar la velocidad inicial de la reacción bajo diferentes concentraciones iniciales de los reactivos.</p>
                    <p class="text-lg mb-4">Al tomar la razón de las leyes de velocidad de dos experimentos, podemos despejar el orden de un reactivo mientras el otro se mantiene constante:</p>
                    <div class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg">
                        <span class="formula">v₂ / v₁ = ( k[A]₂<sup>m</sup>[B]₂<sup>n</sup> ) / ( k[A]₁<sup>m</sup>[B]₁<sup>n</sup> )</span>
                    </div>
                    <p class="text-lg mb-4">Si $[B]_1 = [B]_2$, la ecuación se simplifica a:</p>
                    <div class="text-xl text-center my-4 p-4 bg-blue-100 rounded-lg">
                        <span class="formula">v₂ / v₁ = ( [A]₂ / [A]₁ )<sup>m</sup></span>
                    </div>
                    <p class="text-lg mt-4">Ahora estamos listos para aplicar esto a los datos de la fábrica.</p>
                </div>
            </section>

            <!-- Diapositiva 23: Aplicación a la Fábrica -->
            <section class="slide" id="slide-23">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Aplicación a la Fábrica: Determinación Experimental</h2>
                    <p class="text-lg mb-4">Solicitamos datos al laboratorio para nuestra reacción <span class="formula">NO₂ + CO</span>. ¡Ayúdenos a analizarlos!</p>
                    <table class="w-full text-center border-collapse mb-4">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2 border">Experimento</th>
                                <th class="p-2 border">[NO₂]₀ (M)</th>
                                <th class="p-2 border">[CO]₀ (M)</th>
                                <th class="p-2 border">Velocidad inicial (M/s)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td class="p-2 border">1</td><td class="p-2 border">0.10</td><td class="p-2 border">0.10</td><td class="p-2 border">5.0 x 10<sup>-3</sup></td></tr>
                            <tr><td class="p-2 border">2</td><td class="p-2 border">0.20</td><td class="p-2 border">0.10</td><td class="p-2 border">20.0 x 10<sup>-3</sup></td></tr>
                            <tr><td class="p-2 border">3</td><td class="p-2 border">0.20</td><td class="p-2 border">0.20</td><td class="p-2 border">20.0 x 10<sup>-3</sup></td></tr>
                        </tbody>
                    </table>
                    <div class="flex justify-center gap-4 my-4">
                        <button id="compare-1-2" class="interactive-btn bg-blue-500 text-white py-2 px-4 rounded-lg">Comparar Exp. 1 y 2</button>
                        <button id="compare-2-3" class="interactive-btn bg-blue-500 text-white py-2 px-4 rounded-lg">Comparar Exp. 2 y 3</button>
                    </div>
                    <div id="order-calculation" class="mt-4 space-y-2 text-lg bg-gray-50 p-4 rounded-lg min-h-[100px]"></div>
                </div>
            </section>

            <!-- Diapositiva 24: Conclusiones Fase 1 -->
            <section class="slide" id="slide-24">
                <div class="w-full items-center text-center">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Conclusiones de la Fase 1</h2>
                    <div class="p-6 bg-blue-100 border-l-4 border-blue-500 rounded-lg">
                        <p class="text-xl mb-4">Nuestro primer diagnóstico es claro y nos permite hacer dos recomendaciones cruciales a la fábrica:</p>
                        <p class="text-lg mb-2">1. La velocidad es <strong class="text-red-600">independiente</strong> de la concentración de <span class="formula">CO</span>. Aumentar su flujo es un desperdicio de recursos.</p>
                        <p class="text-lg">2. La velocidad depende <strong class="text-green-600">fuertemente</strong> (al cuadrado) de la concentración de <span class="formula">NO₂</span>. La optimización debe centrarse en este reactivo.</p>
                    </div>
                </div>
            </section>
            
            <!-- Diapositiva 25: Teoría Colisiones -->
            <section class="slide" id="slide-25">
                   <div class="w-full">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Fase 2: La Teoría de las Colisiones</h2>
                         <p class="text-lg text-gray-600 mb-4">Para que una reacción ocurra, las moléculas deben chocar. Aumente la temperatura para ver cómo se mueven más rápido.</p>
                         <canvas id="gas-2d-canvas" class="w-full h-64 bg-gray-800 rounded-lg"></canvas>
                         <div class="text-center mt-2">
                               <label for="gas-temp-slider">Temperatura</label>
                               <input id="gas-temp-slider" type="range" min="1" max="10" value="3" class="w-1/2">
                         </div>
                </div>
            </section>

            <!-- Diapositiva 26: Frecuencia de Colisión -->
            <section class="slide" id="slide-26">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Paradoja de la Colisión</h2>
                    <p class="text-lg mb-4">A nivel molecular, las colisiones son increíblemente frecuentes. Para la reacción <span class="formula">2HI → H₂ + I₂</span>, se calculan unas <strong class="text-indigo-600">6 x 10³¹</strong> colisiones por mililitro cada segundo.</p>
                    <p class="text-lg mb-4">Sin embargo, la velocidad de reacción observada es mucho menor, equivalente a solo <strong class="text-indigo-600">2 x 10¹⁴</strong> moléculas reaccionando en el mismo tiempo.</p>
                    <blockquote class="text-2xl text-center my-6 p-4 bg-red-100 border-l-4 border-red-500 rounded-lg">
                        ¡Solo 1 de cada 10<sup>17</sup> colisiones es efectiva!
                    </blockquote>
                    <p class="text-2xl font-semibold text-center">¿Por qué?</p>
                </div>
            </section>
            
            <!-- Diapositiva 27: Colisión Efectiva -->
            <section class="slide" id="slide-27">
                   <div class="w-full">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Condiciones para una Colisión Efectiva</h2>
                        <p class="text-lg mb-4">Una colisión solo produce una reacción si cumple dos condiciones:</p>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1 p-4 bg-gray-50 rounded-lg text-center">
                                <h3 class="text-xl font-bold mb-2">1. Energía Suficiente</h3>
                                <img src="https://i.imgur.com/5g5gY8p.png" alt="Diagrama mostrando una colisión efectiva (con suficiente energía) que resulta en reacción, y una colisión ineficaz (poca energía) donde las moléculas simplemente rebotan." class="mx-auto my-2 h-40">
                                <p class="mt-2">La energía de la colisión debe superar la barrera de activación ($E_a$).</p>
                            </div>
                            <div class="flex-1 p-4 bg-gray-50 rounded-lg text-center">
                                <h3 class="text-xl font-bold mb-2">2. Orientación Adecuada</h3>
                                 <img src="https://i.imgur.com/y8J3B2c.png" alt="Diagrama del cono de reacción, mostrando que solo las colisiones con la orientación geométrica correcta pueden llevar a la formación de productos." class="mx-auto my-2 h-40">
                                 <p class="mt-2">Las moléculas deben chocar con la geometría correcta (el "cono de reacción").</p>
                            </div>
                        </div>
                </div>
            </section>
            
            <!-- Diapositiva 28: MEJORADA - Energía de Activación -->
            <section class="slide" id="slide-28">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Energía de Activación (E<sub>a</sub>)</h2>
                    <p class="text-lg mb-4">Es la energía mínima necesaria para que los reactivos se transformen en el <strong>complejo activado</strong> o <strong>estado de transición</strong>, una especie inestable en la cima de la barrera energética.</p>
                    <div class="flex flex-col md:flex-row gap-4 items-center">
                        <div class="w-full md:w-1/2">
                            <canvas id="reactionProfileChart"></canvas>
                        </div>
                        <div class="w-full md:w-1/2">
                            <img src="https://i.imgur.com/8aJ3e7c.png" alt="Visualización molecular del estado de transición en un perfil de reacción." class="rounded-lg shadow-md">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 29: NUEVA - Perfiles Endo vs Exo -->
            <section class="slide" id="slide-29">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Perfiles de Reacción: Endo vs. Exotérmica</h2>
                    <p class="text-lg mb-4 text-center">La energía de activación es siempre una barrera a superar, independientemente de si la reacción libera o absorbe energía en total ($\Delta H$).</p>
                    <div class="flex justify-center">
                        <img src="https://i.imgur.com/uN2F0gX.png" alt="Comparación de perfiles de reacción para un proceso endotérmico y uno exotérmico." class="rounded-lg shadow-md my-4 w-full max-w-4xl">
                    </div>
                </div>
            </section>

            <!-- Diapositiva 30: Ecuación de Arrhenius -->
            <section class="slide" id="slide-30">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Ecuación de Arrhenius</h2>
                    <p class="text-lg mb-4">Svante Arrhenius cuantificó la relación entre la constante de velocidad (k), la temperatura (T) y la energía de activación (Ea).</p>
                    <div class="text-xl text-center my-4 p-4 bg-green-100 rounded-lg">
                        <span class="formula">k = A * e<sup>-Ea/RT</sup></span>
                    </div>
                    <div class="flex flex-col md:flex-row gap-4 items-center">
                        <div class="w-full md:w-1/2">
                             <canvas id="boltzmannChart"></canvas>
                        </div>
                        <div class="w-full md:w-1/2">
                            <label for="temperature-slider-2" class="block text-lg font-medium text-gray-700">Temperatura: <span id="temperature-value-2" class="font-bold text-green-600">300</span> K</label>
                            <input id="temperature-slider-2" type="range" min="200" max="800" value="300" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            <div class="mt-4 text-center">
                                <p class="text-lg">Fracción de Moléculas Efectivas (e<sup>-Ea/RT</sup>):</p>
                                <div id="effective-fraction" class="text-4xl font-bold text-green-600">0.0%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 31: Determinación Gráfica de Ea -->
            <section class="slide" id="slide-31">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Determinación Gráfica de E<sub>a</sub></h2>
                    <p class="text-lg mb-4">La ecuación de Arrhenius se puede linealizar aplicando logaritmos neperianos:</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">ln(k) = - (Ea/R) * (1/T) + ln(A)</span></p>
                    <p class="text-lg mb-4">Esto tiene la forma de una recta ($y = mx + b$). Al graficar $ln(k)$ frente a $1/T$ para una serie de experimentos a diferentes temperaturas, obtenemos una línea recta.</p>
                    <div class="flex justify-center">
                        <img src="https://i.imgur.com/G5g4g2H.png" alt="Gráfico de Arrhenius mostrando ln(k) vs 1/T. Es una línea recta con pendiente negativa." class="rounded-lg shadow-md my-4 w-full max-w-lg">
                    </div>
                    <p class="text-xl text-center mt-4 p-4 bg-green-100 rounded-lg font-semibold">La pendiente de la recta es igual a -E<sub>a</sub>/R, lo que nos permite calcular la energía de activación.</p>
                </div>
            </section>

            <!-- Diapositiva 32: Dilema Industrial -->
             <section class="slide" id="slide-32">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">El Dilema Industrial: Tasa vs. Equilibrio</h2>
                    <blockquote class="border-l-4 border-green-500 pl-4 italic text-gray-600 text-lg">
                        <strong>Caso de Estudio: Proceso Haber-Bosch (<span class="formula">N₂ + 3H₂ ⇌ 2NH₃</span>)</strong><br>
                        Este proceso es exotérmico. La Termodinámica (Le Châtelier) pide bajas temperaturas para un alto rendimiento. Pero la Cinética (Arrhenius) exige altas temperaturas para una velocidad aceptable. Es un conflicto clásico.
                    </blockquote>
                    <p class="mt-6 text-lg">Para nuestra fábrica, aumentar la temperatura acelerará la reacción, pero debemos considerar los altos costes energéticos y posibles reacciones secundarias. ¿Es la mejor solución?</p>
                </div>
            </section>
            
            <!-- Diapositiva 33: Conclusiones Fase 2 -->
            <section class="slide" id="slide-33">
                   <div class="w-full items-center text-center">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Conclusiones de la Fase 2</h2>
                        <div class="p-6 bg-green-100 border-l-4 border-green-500 rounded-lg">
                            <p class="text-xl mb-4">Hemos entendido el rol de la temperatura y la barrera energética.</p>
                            <p class="text-lg">Aumentar la temperatura es una opción para acelerar el proceso de la fábrica, pero probablemente no sea la más eficiente ni económica. Debemos investigar a un nivel más profundo para encontrar una solución superior.</p>
                        </div>
                </div>
            </section>
            
            <!-- Diapositiva 34: Mecanismo -->
            <section class="slide" id="slide-34">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Fase 3: ¿Qué es un Mecanismo de Reacción?</h2>
                    <p class="text-lg text-gray-600 mb-4">Es el "mapa molecular" detallado, la secuencia de pasos individuales a través de los cuales los reactivos se convierten en productos.</p>
                    <p class="text-lg">La ecuación global (<span class="formula">A + B → P</span>) es solo el resumen del viaje. El mecanismo nos muestra la ruta completa.</p>
                </div>
            </section>
            
            <!-- Diapositiva 35: Etapas Elementales y Molecularidad -->
            <section class="slide" id="slide-35">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Etapas Elementales y Molecularidad</h2>
                    <p class="text-lg mb-4">El mecanismo se compone de <strong>etapas elementales</strong>, que son eventos de colisión únicos. La <strong>molecularidad</strong> es el número de moléculas que chocan en una etapa:</p>
                     <ul class="space-y-3 text-lg">
                            <li><strong>Unimolecular:</strong> Una molécula se descompone. <br><span class="formula ml-4">O₃ → O₂ + O</span></li>
                            <li><strong>Bimolecular:</strong> Chocan dos moléculas. <br><span class="formula ml-4">NO + O₃ → NO₂ + O₂</span></li>
                            <li><strong>Termolecular:</strong> Chocan tres moléculas (muy raro). <br><span class="formula ml-4">O + O₂ + M → O₃ + M</span></li>
                     </ul>
                    <p class="mt-6 text-xl font-bold text-center p-4 bg-yellow-100 border-l-4 border-yellow-500 rounded-lg">Para una etapa elemental, y <strong class="text-red-600">solo</strong> para una etapa elemental, la molecularidad coincide con el orden de reacción.</p>
                </div>
            </section>
            
            <!-- Diapositiva 36: Intermediarios -->
            <section class="slide" id="slide-36">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Intermediarios de Reacción</h2>
                    <p class="text-lg mb-4">Son especies químicas que se forman en una etapa del mecanismo y se consumen en una etapa posterior.</p>
                    <p class="mt-4 text-lg">Los intermediarios son a menudo inestables y de vida corta, y no aparecen en la ecuación química global.</p>
                </div>
            </section>
            
            <!-- Diapositiva 37: RDS -->
            <section class="slide" id="slide-37">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Etapa Determinante de la Velocidad (RDS)</h2>
                    <p class="text-lg mb-4">En un mecanismo de varios pasos, siempre hay una etapa que es mucho más lenta que las demás. Esta es la etapa determinante de la velocidad o "cuello de botella".</p>
                    <div class="flex justify-center my-4">
                        <img src="https://images.unsplash.com/photo-1570121301042-33261542363c?q=80&w=1000" alt="Vista aérea de un gran atasco de tráfico en una autopista de varios carriles." class="rounded-lg shadow-md w-full max-w-xl">
                    </div>
                    <p class="mt-4 text-lg font-semibold">La ley de velocidad de la reacción global es la ley de velocidad de esta etapa lenta.</p>
                </div>
            </section>

            <!-- Diapositiva 38: Mecanismo Aplicado Visual -->
            <section class="slide" id="slide-38">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Mecanismo Visual para la Fábrica</h2>
                    <p class="text-lg mb-4">Recordemos la ley experimental: <span class="formula">v = k[NO₂]²</span>. Esto sugiere que la etapa lenta involucra la colisión de dos moléculas de $NO_2$.</p>
                    <img src="https://i.imgur.com/kY3Yy4e.png" alt="Diagrama del mecanismo de reacción en dos pasos. Paso 1: dos moléculas de NO2 chocan para formar NO3 y NO. Paso 2: la molécula de NO3 choca con una de CO para formar NO2 y CO2." class="mx-auto rounded-lg my-4 w-full max-w-3xl">
                    <p class="text-lg mt-4 text-center">El <span class="formula text-red-500 bg-red-100">NO₃</span> es un <strong>intermediario</strong>: se crea en el paso 1 y se consume en el paso 2.</p>
                </div>
            </section>

            <!-- Diapositiva 39: Otro Ejemplo Mecanismo -->
            <section class="slide" id="slide-39">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Otro Ejemplo de Mecanismo: Descomposición de N₂O</h2>
                    <p class="text-lg mb-4 text-center">Reacción global: <span class="formula">2N₂O → 2N₂ + O₂</span></p>
                    <img src="https://i.imgur.com/uGg03s3.png" alt="Diagrama del mecanismo de descomposición del N2O en dos pasos. Paso 1: una molécula de N2O se descompone en N2 y un átomo de oxígeno. Paso 2: el átomo de oxígeno choca con otra molécula de N2O para formar N2 y O2." class="mx-auto rounded-lg my-4 w-full max-w-3xl">
                    <p class="text-lg mt-4 text-center">Aquí, el átomo de <span class="formula text-red-500 bg-red-100">O</span> es el <strong>intermediario</strong> de la reacción.</p>
                </div>
            </section>
            
            <!-- Diapositiva 40: Conclusiones Fase 3 -->
            <section class="slide" id="slide-40">
                   <div class="w-full items-center text-center">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Conclusiones de la Fase 3</h2>
                        <div class="p-6 bg-yellow-100 border-l-4 border-yellow-500 rounded-lg">
                            <p class="text-xl mb-4">¡Hemos descifrado el misterio a nivel molecular!</p>
                            <p class="text-lg">El verdadero cuello de botella de la reacción de la fábrica es la colisión inicial entre dos moléculas de <span class="formula">NO₂</span>. El <span class="formula">CO</span> solo entra en juego en una etapa posterior y rápida. Ahora podemos diseñar una solución inteligente.</p>
                        </div>
                </div>
            </section>

            <!-- Diapositiva 41: MEJORADA - Principio de la Catálisis -->
            <section class="slide" id="slide-41">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Fase 4: El Principio de la Catálisis</h2>
                    <p class="text-lg mb-4">Un <strong>catalizador</strong> es una sustancia que cambia la velocidad de una reacción sin ser consumida. Lo logra proporcionando una ruta de reacción alternativa con una energía de activación diferente.</p>
                    <ul class="space-y-2 text-lg my-4 list-disc list-inside">
                        <li><strong>Propiedades:</strong> Se recuperan al final, bastan pequeñas cantidades.</li>
                        <li><strong>Catálisis Positiva:</strong> Acelera la reacción (E<sub>a</sub> más baja). Es la más común.</li>
                        <li><strong>Catálisis Negativa (Inhibición):</strong> Retarda la reacción (E<sub>a</sub> más alta).</li>
                    </ul>
                    <div class="w-full">
                        <canvas id="catalystChart"></canvas>
                    </div>
                    <div class="text-center mt-4">
                        <button id="catalyst-btn" class="interactive-btn bg-purple-500 text-white py-2 px-4 rounded-lg">Añadir Catalizador</button>
                    </div>
                </div>
            </section>
            
            <!-- Diapositiva 42: MEJORADA - Catálisis Heterogénea -->
            <section class="slide" id="slide-42">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Catálisis Heterogénea: Reactivos en Fases Distintas</h2>
                    <p class="text-lg mb-4 text-center">Los reactivos (gases) se adsorben en la superficie de un catalizador (sólido), reaccionan y luego se desorben como productos. Es la base de los convertidores catalíticos.</p>
                    <img src="https://i.imgur.com/sS2v3YF.png" alt="Mecanismo de catálisis heterogénea mostrando la hidrogenación del etileno en una superficie metálica." class="mx-auto rounded-lg shadow-md my-4 w-full max-w-4xl">
                </div>
            </section>

            <!-- Diapositiva 43: NUEVA - Catálisis Homogénea -->
            <section class="slide" id="slide-43">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Catálisis Homogénea: Reactivos en la Misma Fase</h2>
                    <p class="text-lg mb-4 text-center">El catalizador y los reactivos están en la misma fase (ej. todos en disolución). La reacción procede a través de un intermediario, abriendo una nueva ruta con barreras más bajas.</p>
                    <img src="https://i.imgur.com/Bv6t4bA.png" alt="Perfil de reacción para la catálisis homogénea de la descomposición del peróxido de hidrógeno." class="mx-auto rounded-lg shadow-md my-4 w-full max-w-3xl">
                </div>
            </section>
            
            <!-- Diapositiva 44: Catálisis Enzimática -->
            <section class="slide" id="slide-44">
                   <div class="w-full">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Caso de Estudio: Catálisis Enzimática</h2>
                         <blockquote class="border-l-4 border-purple-500 pl-4 italic text-gray-600 text-lg">
                            <strong>Ejemplo: Descomposición del H₂O₂ por la Catalasa</strong>
                        </blockquote>
                        <div id="enzyme-svg" class="svg-animation-container h-64 mt-4"></div>
                         <div class="text-center mt-2">
                               <button id="enzyme-btn" class="interactive-btn bg-purple-600 text-white py-2 px-4 rounded-lg">Iniciar Animación</button>
                         </div>
                </div>
            </section>
            
            <!-- Diapositiva 45: Recomendación Final -->
            <section class="slide" id="slide-45">
                   <div class="w-full items-center text-center">
                         <h2 class="text-3xl font-bold text-gray-800 mb-6">Recomendación Final y Ventajas</h2>
                        <div class="p-6 bg-purple-100 border-l-4 border-purple-500 rounded-lg">
                            <p class="text-xl mb-4">Nuestra recomendación final para la fábrica es el diseño e implementación de un <strong>reactor catalítico heterogéneo</strong>.</p>
                            <p class="text-lg">Esta solución permitirá al proceso operar a temperaturas mucho más bajas, logrando una velocidad de conversión superior. Las ventajas son claras:</p>
                            <ul class="text-left list-disc list-inside mt-2">
                                <li>Mayor eficiencia de conversión.</li>
                                <li>Menor coste energético.</li>
                                <li>Cumplimiento de las normativas medioambientales.</li>
                            </ul>
                        </div>
                </div>
            </section>
            
            <!-- Diapositiva 46: Resumen -->
            <section class="slide" id="slide-46">
                <div class="w-full">
                     <h2 class="text-3xl font-bold text-gray-800 mb-6">Resumen del Viaje del Consultor</h2>
                    <p class="text-lg mb-6">Hemos transformado un problema industrial en una solución de ingeniería a través de la ciencia:</p>
                     <ul class="space-y-3 text-lg">
                            <li><strong>Problema:</strong> Una reacción lenta e ineficiente.</li>
                            <li><strong>Fase 1:</strong> Descubrimos <span class="font-semibold">qué</span> reactivo era importante con la <span class="text-blue-600">Ley de Velocidad</span>.</li>
                            <li><strong>Fase 2:</strong> Evaluamos el efecto de la temperatura con la <span class="text-green-600">Ecuación de Arrhenius</span>.</li>
                            <li><strong>Fase 3:</strong> Entendimos el <span class="font-semibold">porqué</span> de la lentitud con el <span class="text-yellow-600">Mecanismo de Reacción</span>.</li>
                            <li><strong>Fase 4:</strong> Diseñamos la solución óptima con la <span class="text-purple-600">Catálisis</span>.</li>
                     </ul>
                </div>
            </section>
            
            <!-- Diapositiva 47: Final -->
            <section class="slide" id="slide-47">
                <div class="w-full items-center text-center">
                    <h2 class="text-4xl font-bold text-gray-800 mb-6">La Cinética Química como Herramienta Esencial</h2>
                    <p class="text-xl text-gray-600 max-w-3xl">
                        Controlar la velocidad de las reacciones no es solo un ejercicio académico. Es la clave para desarrollar procesos industriales sostenibles, crear nuevos medicamentos, proteger nuestro medio ambiente y entender la maquinaria de la vida misma.
                    </p>
                    <p class="mt-12 text-2xl font-bold text-indigo-600">Gracias por su atención.</p>
                </div>
            </section>
        </div>

        <!-- Navegación -->
        <footer class="flex justify-between items-center p-4 bg-gray-100 border-t">
            <button id="prev-btn" class="btn-nav bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg">Anterior</button>
            <div id="slide-counter" class="text-gray-600 font-semibold">Diapositiva 1 / 49</div>
            <button id="next-btn" class="btn-nav bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg">Siguiente</button>
        </footer>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const slideCounter = document.getElementById('slide-counter');
            let currentSlideIndex = 0;
            const totalSlides = slides.length;
            let charts = {};
            let animations = {};

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.remove('active');
                    if (charts[i]) {
                        charts[i].destroy();
                        delete charts[i];
                    }
                    if (animations[i] && animations[i].stop) {
                        animations[i].stop();
                        delete animations[i];
                    }
                });

                if (slides[index]) {
                    slides[index].classList.add('active');
                    // Initialize animations for the current slide
                    if (index === 5) initConcVsTimeChart();
                    if (index === 11) initIntegratedLawsChart();
                    if (index === 15) initHalfLifeChart2();
                    if (index === 22) initOrderCalculation();
                    if (index === 24) initGas2DAnimation();
                    if (index === 27) initReactionProfileChart();
                    if (index === 29) initBoltzmannChart();
                    if (index === 40) initCatalystChart();
                    if (index === 43) initHaberBoschAnimation();
                    if (index === 45) initEnzymeAnimation();
                }
                
                slideCounter.textContent = `Diapositiva ${index + 1} / ${totalSlides}`;
                prevBtn.disabled = index === 0;
                nextBtn.disabled = index === totalSlides - 1;
            }

            prevBtn.addEventListener('click', () => {
                if (currentSlideIndex > 0) {
                    currentSlideIndex--;
                    showSlide(currentSlideIndex);
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentSlideIndex < totalSlides - 1) {
                    currentSlideIndex++;
                    showSlide(currentSlideIndex);
                }
            });

            // --- Chart and Animation Initializations ---
            
            function initConcVsTimeChart() {
                const ctx = document.getElementById('concVsTimeChart')?.getContext('2d');
                if (!ctx) return;
                if (charts[5]) charts[5].destroy();
                charts[5] = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: [0, 10, 20, 30, 40, 50, 60],
                        datasets: [{
                            label: 'Reactivo [A]',
                            data: [1.0, 0.74, 0.54, 0.40, 0.30, 0.22, 0.16],
                            borderColor: 'rgb(239, 68, 68)',
                            tension: 0.1
                        }, {
                            label: 'Producto [B]',
                            data: [0, 0.26, 0.46, 0.60, 0.70, 0.78, 0.84],
                            borderColor: 'rgb(59, 130, 246)',
                            tension: 0.1
                        }]
                    },
                    options: { responsive: true, plugins: { title: { display: true, text: 'Concentración vs. Tiempo' } }, scales: { x: { title: { display: true, text: 'Tiempo (s)' } }, y: { title: { display: true, text: 'Concentración (M)' } } } }
                });
            }

            function initIntegratedLawsChart() {
                const ctx = document.getElementById('integratedLawsChart')?.getContext('2d');
                if (!ctx) return;
                if (charts[11]) charts[11].destroy();
                charts[11] = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: [0, 1, 2, 3, 4, 5],
                        datasets: [
                            { label: '[A] vs t (Orden 0)', data: [1, 0.8, 0.6, 0.4, 0.2, 0], borderColor: 'rgb(59, 130, 246)'},
                            { label: 'ln[A] vs t (Orden 1)', data: [0, -0.69, -1.38, -2.07, -2.77, -3.46], borderColor: 'rgb(34, 197, 94)'},
                            { label: '1/[A] vs t (Orden 2)', data: [1, 2, 3, 4, 5, 6], borderColor: 'rgb(234, 179, 8)'},
                        ]
                    },
                    options: { responsive: true, plugins: { title: { text: 'Gráficas Linealizadas por Orden de Reacción', display: true }}}
                });
            }

            function initHalfLifeChart2() {
                const ctx = document.getElementById('halfLifeChart2')?.getContext('2d');
                const container = document.getElementById('snapshot-container');
                if (!ctx || !container) return;
                if (charts[15]) charts[15].destroy();

                const k = 0.5;
                const A0 = 16;
                const t_half = Math.log(2) / k;
                const timePoints = [0, t_half, 2 * t_half, 3 * t_half];
                const concPoints = timePoints.map(t => A0 * Math.exp(-k * t));
                
                const data = [];
                for(let t=0; t <= 4.2; t+=0.1) {
                    data.push({x: t, y: A0 * Math.exp(-k*t)});
                }

                charts[15] = new Chart(ctx, {
                    type: 'line',
                    data: {
                        datasets: [{
                            label: 'Concentración',
                            data: data,
                            borderColor: 'rgb(59, 130, 246)',
                            borderWidth: 3,
                            pointRadius: 0,
                            tension: 0.1
                        }, {
                            label: 'Puntos de Semivida',
                            data: timePoints.map((t, i) => ({x: t, y: concPoints[i]})),
                            backgroundColor: 'rgb(239, 68, 68)',
                            pointRadius: 5,
                            pointHoverRadius: 7
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            x: { title: { display: true, text: 'Tiempo (unidades arbitrarias)'}, min: 0, max: 4.2 },
                            y: { title: { display: true, text: 'Concentración' }, min: 0, max: A0 * 1.1 }
                        }
                    }
                });

                const delayedCreation = () => {
                    if (!charts[15] || !charts[15].chartArea) {
                        setTimeout(delayedCreation, 50);
                        return;
                    }
                    container.innerHTML = '';
                    timePoints.forEach((t, i) => {
                        const particleCount = Math.round(concPoints[i]);
                        const xPos = charts[15].scales.x.getPixelForValue(t);
                        const yPos = charts[15].scales.y.getPixelForValue(concPoints[i]);

                        const box = document.createElement('div');
                        box.className = 'snapshot-box';
                        box.style.position = 'absolute';
                        box.style.width = '80px';
                        box.style.left = `${xPos + 5}px`;
                        box.style.top = `${yPos - 50}px`;
                        
                        let particlesHTML = '';
                        for (let j = 0; j < particleCount; j++) {
                            particlesHTML += '<div class="particle"></div>';
                        }
                        box.innerHTML = `<span class="absolute -top-6 left-0 text-xs font-bold">t=${i}t₁/₂</span>` + particlesHTML;
                        container.appendChild(box);
                    });
                };
                delayedCreation();
            }

            function initGas2DAnimation() {
                const canvas = document.getElementById('gas-2d-canvas');
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                const slider = document.getElementById('gas-temp-slider');
                let particles = [];
                const numParticles = 50;
                let animationFrameId;

                function resizeCanvas() {
                    if (!canvas) return;
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                }
                resizeCanvas();
                window.addEventListener('resize', resizeCanvas);

                for (let i = 0; i < numParticles; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        vx: (Math.random() - 0.5) * 2,
                        vy: (Math.random() - 0.5) * 2,
                        radius: 5,
                        color: 'white'
                    });
                }

                function draw() {
                    if (!ctx) return;
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    const speedMultiplier = slider.value;
                    particles.forEach(p => {
                        p.x += p.vx * speedMultiplier;
                        p.y += p.vy * speedMultiplier;

                        if (p.x < p.radius || p.x > canvas.width - p.radius) p.vx *= -1;
                        if (p.y < p.radius || p.y > canvas.height - p.radius) p.vy *= -1;
                        
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                        ctx.fillStyle = p.color;
                        ctx.fill();
                    });
                    animationFrameId = requestAnimationFrame(draw);
                }
                
                animations[24] = { stop: () => cancelAnimationFrame(animationFrameId) };
                draw();
            }

            function initReactionProfileChart() {
                const ctx = document.getElementById('reactionProfileChart')?.getContext('2d');
                if (!ctx) return;
                if (charts[27]) charts[27].destroy();
                charts[27] = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Reactivos', 'Complejo Activado', 'Productos'],
                        datasets: [{
                            label: 'Energía Potencial',
                            data: [20, 80, 40],
                            borderColor: 'rgb(234, 88, 12)',
                            tension: 0.4,
                            fill: false
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: { legend: { display: false }},
                        scales: { y: { title: { display: true, text: 'Energía' } }, x: { title: { display: true, text: 'Progreso de Reacción'}}}
                    }
                });
            }

            function initBoltzmannChart() {
                const slider = document.getElementById('temperature-slider-2');
                const tempValue = document.getElementById('temperature-value-2');
                const fractionValue = document.getElementById('effective-fraction');
                const ctx = document.getElementById('boltzmannChart')?.getContext('2d');
                if(!slider || !tempValue || !fractionValue || !ctx) return;
                const Ea = 60;

                function boltzmannDistribution(E, T) {
                    const k = 0.02;
                    if (E < 0) return 0;
                    return (2 * Math.sqrt(E / Math.PI) * Math.pow(1 / (k * T), 1.5) * Math.exp(-E / (k * T)));
                }

                function updateChart() {
                    const T = slider.value;
                    tempValue.textContent = T;

                    const chart = charts[29];
                    let totalArea = 0;
                    let effectiveArea = 0;
                    
                    const dataPoints = [];
                    for (let E = 0; E <= 150; E += 2) {
                        const val = boltzmannDistribution(E, T);
                        dataPoints.push(val);
                        totalArea += val;
                        if (E >= Ea) {
                            effectiveArea += val;
                        }
                    }

                    const effectiveFraction = totalArea > 0 ? (effectiveArea / totalArea) * 100 : 0;
                    fractionValue.textContent = effectiveFraction.toFixed(1) + '%';
                    
                    chart.data.datasets[0].data = dataPoints;
                    
                    const backgroundColors = dataPoints.map((_, index) => {
                        const energy = index * 2;
                        return energy >= Ea ? 'rgba(34, 197, 94, 0.6)' : 'rgba(239, 68, 68, 0.4)';
                    });
                    chart.data.datasets[0].backgroundColor = backgroundColors;

                    chart.update('none');
                }

                if (charts[29]) charts[29].destroy();
                charts[29] = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: Array.from({length: 76}, (_, i) => i * 2),
                        datasets: [{
                            label: 'Distribución de Energía',
                            data: [],
                            barPercentage: 1.1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: { legend: {display: false}, title: { display: true, text: 'Distribución de Energía de Maxwell-Boltzmann' } },
                        scales: {
                            x: { title: { display: true, text: 'Energía Cinética' } },
                            y: { title: { display: true, text: 'Fracción de Moléculas' }, beginAtZero: true }
                        },
                        animation: { duration: 0 }
                    }
                });
                
                slider.addEventListener('input', updateChart);
                updateChart();
            }
            
            function initHaberBoschAnimation() {
                const container = document.getElementById('haber-bosch-svg');
                const btn = document.getElementById('haber-bosch-btn');
                if(!container || !btn) return;
                let animState = 0;

                const setupSVG = () => {
                    container.innerHTML = `
                        <svg viewBox="0 0 200 100" class="w-full h-full bg-gray-100 rounded">
                            <style>
                                .hb-gas, .hb-adsorbed, .hb-product { transition: opacity 1s, transform 1.5s ease-in-out; }
                            </style>
                            <defs>
                                <g id="n2-molecule"><circle cx="0" cy="0" r="5" fill="#3b82f6" /><circle cx="10" cy="0" r="5" fill="#3b82f6" /><line x1="2" y1="0" x2="8" y2="0" stroke="#3b82f6" stroke-width="2"/></g>
                                <g id="h2-molecule"><circle cx="0" cy="0" r="4" fill="#6ee7b7" /><circle cx="8" cy="0" r="4" fill="#6ee7b7" /><line x1="1" y1="0" x2="7" y2="0" stroke="#6ee7b7" stroke-width="1.5"/></g>
                                <g id="nh3-molecule"><circle cx="0" cy="0" r="5" fill="#3b82f6" /><circle cx="-4" cy="5" r="4" fill="#6ee7b7" /><circle cx="4" cy="5" r="4" fill="#6ee7b7" /><circle cx="0" cy="-4" r="4" fill="#6ee7b7" /></g>
                            </defs>
                            <rect x="0" y="80" width="200" height="20" fill="#9ca3af" />
                            <text x="100" y="95" text-anchor="middle" font-size="5">Superficie de Hierro (Fe)</text>
                            <text id="hb-text" x="100" y="10" font-size="6" text-anchor="middle">Estado Inicial</text>
                            
                            <g id="hb-gas-phase" class="hb-gas" style="opacity: 1; transform: translateY(0px);">
                                <use href="#n2-molecule" x="50" y="20" />
                                <use href="#h2-molecule" x="140" y="30" />
                            </g>
                            <g id="hb-adsorbed-phase" class="hb-adsorbed" style="opacity: 0;">
                                <circle cx="75" cy="75" r="5" fill="#3b82f6" /><circle cx="85" cy="75" r="5" fill="#3b82f6" />
                                <circle cx="60" cy="76" r="4" fill="#6ee7b7" /><circle cx="100" cy="76" r="4" fill="#6ee7b7" />
                            </g>
                            <g id="hb-product-phase" class="hb-product" style="opacity: 0; transform: translateY(0px);">
                                <use href="#nh3-molecule" x="90" y="70" />
                            </g>
                        </svg>`;
                };
                
                setupSVG();

                btn.onclick = () => {
                    const text = container.querySelector('#hb-text');
                    const gasPhase = container.querySelector('#hb-gas-phase');
                    const adsorbedPhase = container.querySelector('#hb-adsorbed-phase');
                    const productPhase = container.querySelector('#hb-product-phase');

                    if (animState === 0) { // Adsorption
                        text.textContent = 'Paso 1: Adsorción y Disociación';
                        gasPhase.style.transform = 'translateY(55px)';
                        gasPhase.style.opacity = '0';
                        setTimeout(() => {
                            adsorbedPhase.style.opacity = '1';
                        }, 1000);
                        btn.textContent = "Siguiente Paso";
                        animState = 1;
                    } else if (animState === 1) { // Desorption
                        text.textContent = 'Paso 2: Formación y Desorción de NH₃';
                        adsorbedPhase.style.opacity = '0';
                        setTimeout(() => {
                            productPhase.style.opacity = '1';
                            productPhase.style.transform = 'translateY(-60px)';
                        }, 1000);
                        btn.textContent = "Reiniciar";
                        animState = 2;
                    } else { // Reset
                        setupSVG();
                        btn.textContent = "Iniciar Animación";
                        animState = 0;
                    }
                };
                animations[43] = { stop: () => {} };
            }

            function initEnzymeAnimation() {
                const container = document.getElementById('enzyme-svg');
                const btn = document.getElementById('enzyme-btn');
                if(!container || !btn) return;

                const reset = () => {
                     container.innerHTML = `
                        <svg viewBox="0 0 200 100" class="w-full h-full">
                            <style>
                                #substrate-group, #product-group { transition: opacity 1s, transform 1.5s ease-in-out; }
                            </style>
                            <path id="enzyme-shape" d="M 50 80 C 60 40, 140 40, 150 80 L 180 90 L 20 90 Z" fill="#60a5fa" />
                            <text x="100" y="95" font-size="5">Enzima (Catalasa)</text>
                            <g id="substrate-group" style="opacity:1; transform: translateY(0px);">
                               <rect x="85" y="10" width="30" height="15" fill="#fde047" rx="5" />
                               <text x="100" y="20" font-size="5" text-anchor="middle">H₂O₂</text>
                            </g>
                            <g id="product-group" style="opacity:0; transform: translateY(0px);">
                               <circle cx="90" cy="20" r="8" fill="#a5f3fc" /><text x="90" y="23" font-size="5" text-anchor="middle">H₂O</text>
                               <circle cx="110" cy="15" r="5" fill="#fca5a5" /><text x="110" y="18" font-size="5" text-anchor="middle">O₂</text>
                            </g>
                        </svg>`;
                };
                reset();
                
                btn.onclick = () => {
                    const substrate = container.querySelector('#substrate-group');
                    const products = container.querySelector('#product-group');
                    
                    substrate.style.transition = 'none';
                    products.style.transition = 'none';
                    substrate.style.opacity = '1';
                    substrate.style.transform = 'translateY(0px)';
                    products.style.opacity = '0';
                    products.style.transform = 'translateY(0px)';

                    void substrate.offsetWidth;

                    substrate.style.transition = 'opacity 1s, transform 1.5s ease-in-out';
                    products.style.transition = 'opacity 1s 1s, transform 1.5s 1s ease-in-out';

                    substrate.style.transform = 'translateY(55px)';
                    
                    setTimeout(() => {
                        substrate.style.opacity = '0';
                        products.style.opacity = '1';
                        products.style.transform = 'translateY(-40px)';
                    }, 1500);
                }
                animations[45] = { stop: () => {} };
            }
            
            function initOrderCalculation() {
                const btn12 = document.getElementById('compare-1-2');
                const btn23 = document.getElementById('compare-2-3');
                const output = document.getElementById('order-calculation');
                if(!btn12 || !btn23 || !output) return;
                
                const showCalculation = (text, delay) => {
                    const p = document.createElement('p');
                    p.innerHTML = text;
                    p.className = 'calculation-step';
                    output.appendChild(p);
                    setTimeout(() => p.classList.add('visible'), delay);
                };

                btn12.onclick = () => {
                    output.innerHTML = '';
                    showCalculation('<strong>Comparando Experimentos 1 y 2:</strong>', 0);
                    showCalculation('Se mantiene [CO] constante y se duplica [NO₂] (de 0.10 a 0.20 M).', 500);
                    showCalculation('La velocidad cambia de 5.0x10⁻³ a 20.0x10⁻³ M/s. ¡Se cuadruplica! (4x)', 1000);
                    showCalculation('Matemáticamente: (v₂/v₁) = ([NO₂]₂/[NO₂]₁)<sup>m</sup>&nbsp; =>&nbsp; 4 = (2)<sup>m</sup>', 1500);
                    showCalculation('Por lo tanto, el orden respecto a [NO₂] es <strong class="text-green-600">m = 2</strong>.', 2000);
                };
                 btn23.onclick = () => {
                    output.innerHTML = '';
                    showCalculation('<strong>Comparando Experimentos 2 y 3:</strong>', 0);
                    showCalculation('Se mantiene [NO₂] constante y se duplica [CO] (de 0.10 a 0.20 M).', 500);
                    showCalculation('La velocidad no cambia (20.0x10⁻³ M/s).', 1000);
                    showCalculation('Matemáticamente: (v₃/v₂) = ([CO]₃/[CO]₂)<sup>n</sup>&nbsp; =>&nbsp; 1 = (2)<sup>n</sup>', 1500);
                    showCalculation('Por lo tanto, el orden respecto a [CO] es <strong class="text-red-600">n = 0</strong>.', 2000);
                };
            }

            function initCatalystChart() {
                const btn = document.getElementById('catalyst-btn');
                const ctx = document.getElementById('catalystChart')?.getContext('2d');
                if(!btn || !ctx) return;
                let catalystAdded = false;

                const createPath = (start, peak, end, steps) => {
                    const path = [];
                    for (let i = 0; i <= steps; i++) {
                        const x = i / steps;
                        let y;
                        if (x < 0.5) {
                             y = start + (peak - start) * (1 - Math.pow(1 - 2*x, 2));
                        } else {
                             y = end + (peak - end) * (1 - Math.pow(2*x - 1, 2));
                        }
                        path.push({x: i, y: y});
                    }
                    path[steps] = {x: steps, y: end}; 
                    return path;
                };
                
                const data = {
                    labels: Array.from({length: 101}, (_, i) => i),
                    datasets: [{
                        label: 'Ruta No Catalizada',
                        data: createPath(20, 80, 40, 100),
                        borderColor: 'rgb(255, 99, 132)',
                        fill: false,
                        pointRadius: 0,
                        borderWidth: 3,
                        tension: 0.4
                    }]
                };

                const options = {
                    responsive: true,
                    plugins: { title: { display: true, text: 'Perfil de Reacción' } },
                    scales: {
                        x: { title: { display: true, text: 'Progreso de Reacción' }, ticks: { display: false } },
                        y: { title: { display: true, text: 'Energía Potencial' }, min: 0, max: 100 }
                    },
                    animation: {
                        duration: 1000
                    }
                };
                
                if (charts[40]) charts[40].destroy();
                charts[40] = new Chart(ctx, { type: 'line', data: data, options: options });

                btn.onclick = () => {
                    const chart = charts[40];
                    if (!catalystAdded) {
                        chart.data.datasets.push({
                            label: 'Ruta Catalizada',
                            data: createPath(20, 50, 40, 100),
                            borderColor: 'rgb(75, 192, 192)',
                            fill: false,
                            pointRadius: 0,
                            borderDash: [5, 5],
                            borderWidth: 3,
                            tension: 0.4
                        });
                        btn.textContent = 'Quitar Catalizador';
                        btn.classList.remove('bg-purple-500', 'hover:bg-purple-600');
                        btn.classList.add('bg-gray-500', 'hover:bg-gray-600');
                    } else {
                        chart.data.datasets.pop();
                        btn.textContent = 'Añadir Catalizador';
                        btn.classList.remove('bg-gray-500', 'hover:bg-gray-600');
                        btn.classList.add('bg-purple-500', 'hover:bg-purple-600');
                    }
                    chart.update();
                    catalystAdded = !catalystAdded;
                };
            }

            // Mostrar la primera diapositiva al cargar
            showSlide(currentSlideIndex);
        });
    </script>
</body>
</html>
