<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentación: Cinética Química</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']]
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        .slide {
            display: none;
            min-height: 80vh;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .slide.active {
            display: flex;
            opacity: 1;
        }
        .formula {
            font-family: 'Courier New', Courier, monospace;
            background-color: #e2e8f0;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-weight: bold;
        }
        .btn-nav {
            transition: background-color 0.3s, transform 0.1s;
        }
        .btn-nav:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .btn-nav:hover:not(:disabled) {
            transform: translateY(-2px);
        }
        .interactive-btn {
            transition: all 0.2s ease-in-out;
        }
        .interactive-btn:hover {
            transform: scale(1.05);
        }
        .calculation-step {
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s ease-out;
        }
        .calculation-step.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .svg-animation-container {
            width: 100%;
            max-width: 400px;
            margin: auto;
        }
        .snapshot-box {
            border: 2px solid #60a5fa;
            background-color: #eff6ff;
            border-radius: 0.5rem;
            padding: 0.5rem;
            position: relative;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
        }
        .particle {
            width: 12px;
            height: 12px;
            background-color: #ef4444;
            border-radius: 50%;
        }
        .molecule {
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            position: relative;
            box-shadow: inset 0 -3px 5px rgba(0,0,0,0.2);
            transition: all 0.5s ease-in-out;
        }
        .intermediate {
            border: 3px dashed #f59e0b;
        }
        .no { background: radial-gradient(circle, #5fa8f5, #3b82f6); width: 45px; height: 45px; }
        .o3 { background: radial-gradient(circle, #f87171, #ef4444); width: 55px; height: 55px; }
        .no2 { background: radial-gradient(circle, #fb923c, #f97316); width: 50px; height: 50px; }
        .no3 { background: radial-gradient(circle, #f472b6, #ec4899); width: 55px; height: 55px; }
        .o2 { background: radial-gradient(circle, #34d399, #10b981); width: 45px; height: 45px; }
        .n2o5 { background: radial-gradient(circle, #c084fc, #a855f7); width: 60px; height: 60px; }
        .n2o { background: radial-gradient(circle, #a78bfa, #8b5cf6); width: 55px; height: 55px; }
        .n2 { background: radial-gradient(circle, #818cf8, #6366f1); width: 45px; height: 45px; }
        .o { background: radial-gradient(circle, #f472b6, #ec4899); width: 35px; height: 35px; }
        .co { background: radial-gradient(circle, #94a3b8, #64748b); width: 45px; height: 45px; }
        
        .step-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            min-height: 90px;
            position: relative;
        }
        .reaction-arrow {
            font-size: 2.5rem;
            color: #374151;
        }
        .reactant-container, .product-container {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }
        .mechanism-step {
            transition: opacity 0.5s, transform 0.5s;
            opacity: 0;
            transform: translateY(10px);
            max-height: 0;
            overflow: hidden;
        }
        .mechanism-step.visible {
            opacity: 1;
            transform: translateY(0);
            max-height: 200px; /* Adjust as needed */
            margin-top: 1rem;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">

    <main id="presentation-container" class="bg-white w-full max-w-5xl shadow-2xl rounded-xl overflow-hidden">
        <!-- Contenedor de Diapositivas -->
        <div class="p-8 md:p-12">
            <!-- Diapositiva 1: Título -->
            <section class="slide" id="slide-1">
                <div class="w-full flex flex-col justify-center items-center text-center">
                    <h1 class="text-4xl md:text-6xl font-bold text-gray-800">Diagnóstico y Optimización Cinética</h1>
                    <p class="text-2xl md:text-3xl text-indigo-600 mt-4">Un Caso de Estudio en Remediación de Gases Industriales</p>
                    <div class="mt-12 border-t-2 border-gray-200 pt-4">
                        <p class="text-xl text-gray-600">Presentado por:</p>
                        <p class="text-2xl font-bold text-gray-700">Alberto Albesa</p>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 2: Introducción Visual -->
            <section class="slide" id="slide-2">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Introducción Visual a la Velocidad de Reacción</h2>
                    <p class="text-lg text-center mb-6">Algunas reacciones son explosivamente rápidas, mientras que otras tardan una eternidad.</p>
                    <div class="flex flex-col md:flex-row justify-around items-center gap-6">
                        <div class="text-center">
                            <img src="fuego_1.jpg" alt="[Imagen de una fogata]" class="rounded-lg shadow-md w-full max-w-sm h-64 object-cover">
                            <p class="mt-3 text-xl font-semibold">Combustión: Proceso Rápido</p>
                        </div>
                        <div class="text-center">
                            <img src="barco.png" alt="[Imagen de metal oxidado]" class="rounded-lg shadow-md w-full max-w-sm h-64 object-cover">
                            <p class="mt-3 text-xl font-semibold">Oxidación: Proceso Lento</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 3: El Problema -->
            <section class="slide" id="slide-3">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">El Problema de la Fábrica y la Paradoja Cinética</h2>
                    <p class="text-lg mb-4">Una planta industrial debe eliminar los contaminantes <span class="formula">NO₂</span> y <span class="formula">CO</span> de sus emisiones. La reacción propuesta es:</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">NO₂(g) + CO(g) → NO(g) + CO₂(g)</span></p>
                    <p class="text-lg mb-4">La termodinámica nos dice que esta reacción es espontánea ($ \Delta G < 0 $), pero en la práctica, es demasiado lenta para ser útil.</p>
                    <blockquote class="border-l-4 border-indigo-500 pl-4 italic text-gray-600">
                        <strong>Analogía:</strong> Al igual que un diamante ($C$) no se convierte espontáneamente en grafito, nuestra reacción necesita un "empujón". La Termodinámica nos dice si podemos llegar, la Cinética nos dice cómo y a qué velocidad.
                    </blockquote>
                </div>
            </section>

            <!-- Diapositiva 4: Plan de Acción -->
            <section class="slide" id="slide-4">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Nuestro Plan de Acción</h2>
                    <p class="text-lg mb-6">Como consultores, abordaremos el problema con un diagnóstico sistemático en 4 fases:</p>
                    <ul class="space-y-4 text-xl">
                        <li class="p-4 bg-blue-50 rounded-lg shadow-sm"><strong class="text-blue-600">Fase 1:</strong> Medir la velocidad actual y entender cómo depende de los reactivos. <span class="font-mono text-sm block mt-1">(Leyes de Velocidad)</span></li>
                        <li class="p-4 bg-green-50 rounded-lg shadow-sm"><strong class="text-green-600">Fase 2:</strong> Evaluar el efecto de la temperatura como posible solución. <span class="font-mono text-sm block mt-1">(Energía de Activación)</span></li>
                        <li class="p-4 bg-yellow-50 rounded-lg shadow-sm"><strong class="text-yellow-600">Fase 3:</strong> Investigar el "porqué" de la lentitud a nivel molecular. <span class="font-mono text-sm block mt-1">(Mecanismos de Reacción)</span></li>
                        <li class="p-4 bg-purple-50 rounded-lg shadow-sm"><strong class="text-purple-600">Fase 4:</strong> Proponer la solución de ingeniería definitiva. <span class="font-mono text-sm block mt-1">(Catálisis)</span></li>
                    </ul>
                </div>
            </section>

            <!-- Diapositiva 5: Factores que afectan la velocidad -->
            <section class="slide" id="slide-5">
                 <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Factores que Afectan la Velocidad de Reacción</h2>
                    <p class="text-lg mb-8">Nuestro plan de acción se basa en analizar los factores clave que controlan la rapidez de una reacción:</p>
                    <ul class="space-y-6 text-2xl">
                        <li class="p-5 bg-blue-50 rounded-lg shadow-sm flex items-center gap-4">
                            <span class="text-4xl">1️⃣</span>
                            <div>
                                <strong class="text-blue-700">Concentración de los Reactivos</strong>
                                <p class="text-lg text-gray-600">¿Cómo influye la cantidad de cada reactivo?</p>
                            </div>
                        </li>
                        <li class="p-5 bg-green-50 rounded-lg shadow-sm flex items-center gap-4">
                            <span class="text-4xl">2️⃣</span>
                            <div>
                                <strong class="text-green-700">Temperatura</strong>
                                <p class="text-lg text-gray-600">¿Calentar o enfriar el sistema ayuda?</p>
                            </div>
                        </li>
                        <li class="p-5 bg-purple-50 rounded-lg shadow-sm flex items-center gap-4">
                            <span class="text-4xl">3️⃣</span>
                            <div>
                                <strong class="text-purple-700">Presencia de un Catalizador</strong>
                                <p class="text-lg text-gray-600">¿Podemos usar una sustancia para crear un "atajo"?</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>
            
            <!-- Diapositiva 6: ¿Qué es la Velocidad? -->
            <section class="slide" id="slide-6">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Fase 1: ¿Qué es la Velocidad de Reacción?</h2>
                    <p class="text-lg text-gray-600 mb-4">Es la medida del cambio en la concentración de un reactivo o producto a lo largo del tiempo. Para una reacción $A \rightarrow B$, la situación típica es la siguiente:</p>
                    <canvas id="concVsTimeChart"></canvas>
                    <p class="mt-4 text-lg text-center">La velocidad cambia a medida que la reacción procede, ya que las concentraciones varían.</p>
                </div>
            </section>

            <!-- Diapositiva 7: Velocidad Media -->
            <section class="slide" id="slide-7">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Cálculo de la Velocidad Media</h2>
                    <p class="text-lg mb-4">Podemos calcular una velocidad <strong>media</strong> en un intervalo de tiempo ($\Delta t$). Por ejemplo, en los primeros 10 segundos, la concentración del reactivo A cambia de 1.00 M a 0.74 M.</p>
                    <div class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg">
                        <span class="formula">v_media = - &Delta;[A] / &Delta;t = - ( [A]_final - [A]_inicial ) / ( t_final - t_inicial )</span>
                    </div>
                    <div class="text-xl text-center my-4 p-4 bg-blue-100 rounded-lg">
                        <span class="formula">v_media = - ( 0.74 M - 1.00 M ) / ( 10 s - 0 s ) = 0.026 M/s</span>
                    </div>
                    <p class="text-lg mt-4">El signo negativo se usa para que la velocidad de desaparición de un reactivo sea un valor positivo.</p>
                </div>
            </section>

            <!-- Diapositiva 8: Velocidad Cambia -->
            <section class="slide" id="slide-8">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Velocidad Cambia con el Tiempo</h2>
                    <p class="text-lg mb-4">La velocidad media <strong>no es constante</strong>. Disminuye a medida que los reactivos se consumen. Consideremos la reacción:</p>
                    <p class="text-center text-lg mb-4"><span class="formula">C₄H₉Cl(aq) + H₂O(l) → C₄H₉OH(aq) + HCl(aq)</span></p>
                    <table class="w-full max-w-lg mx-auto text-center border-collapse mb-4">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2 border">Intervalo de Tiempo (s)</th>
                                <th class="p-2 border">Velocidad Media (M/s)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td class="p-2 border">0 - 50</td><td class="p-2 border">1.9 x 10<sup>-4</sup></td></tr>
                            <tr><td class="p-2 border bg-gray-50">50 - 100</td><td class="p-2 border bg-gray-50">1.7 x 10<sup>-4</sup></td></tr>
                            <tr><td class="p-2 border">100 - 150</td><td class="p-2 border">1.6 x 10<sup>-4</sup></td></tr>
                            <tr><td class="p-2 border bg-gray-50">150 - 200</td><td class="p-2 border bg-gray-50">1.4 x 10<sup>-4</sup></td></tr>
                        </tbody>
                    </table>
                    <p class="text-lg mt-4">Esto nos obliga a buscar una medida más precisa: la <strong>velocidad instantánea</strong>.</p>
                </div>
            </section>

            <!-- Diapositiva 9: Velocidad Instantánea -->
            <section class="slide" id="slide-9">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Definición Formal: Velocidad Instantánea</h2>
                    <p class="text-lg mb-4">Para un análisis preciso, usamos la <strong>velocidad instantánea</strong>, que es la pendiente de la recta tangente a la curva de concentración en un tiempo `t`.</p>
                    <img src="Imagen28.png" alt="[Gráfico de concentración contra tiempo, mostrando dos rectas tangentes en diferentes momentos. La tangente al principio es más pronunciada que la tangente posterior, indicando que la velocidad disminuye con el tiempo.]" class="mx-auto rounded-lg shadow-md my-4 w-full max-w-2xl">
                    <p class="text-lg mb-4">Para una reacción general: <span class="formula">aA + bB → cC + dD</span>, se define como:</p>
                    <div class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg">
                        <span class="formula">v = - (1/a)d[A]/dt = - (1/b)d[B]/dt = + (1/c)d[C]/dt = + (1/d)d[D]/dt</span>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 10: Ley de Velocidad -->
            <section class="slide" id="slide-10">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Ley de Velocidad</h2>
                    <p class="text-lg mb-4">Experimentalmente, la velocidad se relaciona con la concentración de los reactivos mediante la Ley de Velocidad:</p>
                    <div class="text-xl text-center my-4 p-4 bg-indigo-100 rounded-lg">
                        <span class="formula">v = k[A]<sup>m</sup>[B]<sup>n</sup></span>
                    </div>
                    <ul class="space-y-3 text-lg">
                        <li><strong class="text-indigo-600">k:</strong> La constante de velocidad (depende de T).</li>
                        <li><strong class="text-indigo-600">m, n:</strong> Los órdenes de reacción respecto a A y B.</li>
                        <li><strong class="text-indigo-600">m + n:</strong> El orden total de la reacción.</li>
                        <li class="pt-2"><strong class="text-red-600">Importante:</strong> Los órdenes <strong class="text-red-600">DEBEN</strong> determinarse experimentalmente.</li>
                    </ul>
                </div>
            </section>

            <!-- Diapositiva 11: Órdenes vs Coeficientes -->
            <section class="slide" id="slide-11">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Órdenes vs. Coeficientes Estequiométricos</h2>
                    <p class="text-lg mb-4 text-red-600 font-bold">¡Un error común es asumir que los órdenes de reacción son los coeficientes estequiométricos!</p>
                    <p class="text-lg mb-4">Consideremos dos reacciones aparentemente similares:</p>
                    <div class="space-y-4">
                        <div class="p-3 bg-gray-50 rounded-md">
                            <p><span class="formula">H₂(g) + I₂(g) → 2HI(g)</span></p>
                            <p>Ley experimental: <span class="formula">v = k[H₂][I₂]</span> (Los órdenes coinciden)</p>
                        </div>
                        <div class="p-3 bg-gray-50 rounded-md">
                            <p><span class="formula">H₂(g) + Br₂(g) → 2HBr(g)</span></p>
                            <p>Ley experimental: <span class="formula">v = k[H₂][Br₂]<sup>1/2</sup></span> (Los órdenes NO coinciden)</p>
                        </div>
                    </div>
                    <p class="mt-4 text-lg font-semibold">Conclusión: La ley de velocidad solo puede conocerse a través del experimento.</p>
                </div>
            </section>

            <!-- Diapositiva 12: Leyes Integradas -->
            <section class="slide" id="slide-12">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Leyes de Velocidad Integradas</h2>
                    <p class="text-lg mb-4">Al integrar la ley de velocidad, obtenemos ecuaciones que relacionan la concentración con el tiempo. Cada orden tiene una gráfica lineal característica:</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                        <div class="p-4 bg-gray-100 rounded-lg">
                            <h3 class="font-bold text-xl">Orden Cero</h3>
                            <p class="font-mono text-sm mt-2"><span class="formula">[A] = [A]₀ - kt</span></p>
                            <p class="mt-2">Linealiza: <strong class="text-blue-600">[A] vs. t</strong></p>
                        </div>
                        <div class="p-4 bg-gray-100 rounded-lg">
                            <h3 class="font-bold text-xl">Orden Uno</h3>
                            <p class="font-mono text-sm mt-2"><span class="formula">ln[A] = ln[A]₀ - kt</span></p>
                            <p class="mt-2">Linealiza: <strong class="text-green-600">ln[A] vs. t</strong></p>
                        </div>
                        <div class="p-4 bg-gray-100 rounded-lg">
                            <h3 class="font-bold text-xl">Orden Dos</h3>
                            <p class="font-mono text-sm mt-2"><span class="formula">1/[A] = 1/[A]₀ + kt</span></p>
                            <p class="mt-2">Linealiza: <strong class="text-yellow-600">1/[A] vs. t</strong></p>
                        </div>
                    </div>
                    <canvas id="integratedLawsChart" class="mt-4"></canvas>
                </div>
            </section>

            <!-- Diapositiva 13: Orden Cero (Derivación) -->
            <section class="slide" id="slide-13">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Leyes Integradas: Orden Cero</h2>
                    <p class="text-lg mb-4">Para una reacción de orden cero, la velocidad es constante e independiente de la concentración del reactivo.</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">- d[A] / dt = k</span></p>
                    <p class="text-lg mb-4">Separando variables e integrando desde el tiempo $t=0$ (con concentración $[A]_0$) hasta un tiempo $t$ (con concentración $[A]$):</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">∫ d[A] = -k ∫ dt</span></p>
                    <p class="text-lg mb-4">Obtenemos la ecuación de la recta:</p>
                    <div class="text-xl text-center my-4 p-4 bg-blue-100 rounded-lg">
                        <span class="formula">[A] = [A]₀ - kt</span>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 14: Orden Cero (Vida Media) -->
            <section class="slide" id="slide-14">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Vida Media para Orden Cero</h2>
                    <p class="text-lg mb-4">El tiempo de vida media ($t_{1/2}$) es el tiempo necesario para que la concentración del reactivo se reduzca a la mitad de su valor inicial, es decir, $[A] = [A]_0 / 2$.</p>
                    <p class="text-lg mb-4">Sustituyendo en la ley integrada:</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">[A]₀ / 2 = [A]₀ - k * t₁/₂</span></p>
                    <p class="text-lg mb-4">Despejando $t_{1/2}$:</p>
                    <div class="text-xl text-center my-4 p-4 bg-blue-100 rounded-lg">
                        <span class="formula">t₁/₂ = [A]₀ / 2k</span>
                    </div>
                    <p class="text-lg mt-4 font-semibold text-red-600">Nota: Para una reacción de orden cero, la vida media depende de la concentración inicial y se acorta a medida que avanza la reacción.</p>
                </div>
            </section>

            <!-- Diapositiva 15: Vida Media Orden 1 -->
            <section class="slide" id="slide-15">
                   <div class="w-full">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Vida Media para Orden Uno</h2>
                        <div class="flex flex-col md:flex-row gap-6 items-center">
                            <div class="w-full md:w-1/2">
                                <p class="text-lg mb-2">Sustituyendo $[A] = [A]_0 / 2$ en la ley integrada:</p>
                                <p class="text-lg text-center p-2 bg-gray-100 rounded-lg"><span class="formula">ln([A]₀/2) = ln[A]₀ - k*t₁/₂</span></p>
                                <p class="text-lg text-center p-2 my-2 bg-gray-100 rounded-lg"><span class="formula">ln[A]₀ - ln(2) = ln[A]₀ - k*t₁/₂</span></p>
                                <p class="text-lg mb-2">Obtenemos la fórmula, que es **independiente** de la concentración inicial:</p>
                                <div class="text-xl text-center p-3 bg-green-100 rounded-lg">
                                    <span class="formula">t₁/₂ = ln(2) / k ≈ 0.693 / k</span>
                                </div>
                            </div>
                            <div class="w-full md:w-1/2">
                                <img src="Imagen10.png" alt="Gráfico mostrando que una k pequeña resulta en una vida media larga y una k grande resulta en una vida media corta." class="rounded-lg shadow-md">
                            </div>
                        </div>
                </div>
            </section>

            <!-- Diapositiva 16: Orden Dos (Derivación) -->
            <section class="slide" id="slide-16">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Leyes Integradas: Orden Dos</h2>
                    <p class="text-lg mb-4">Para una reacción de segundo orden, la velocidad es proporcional al cuadrado de la concentración del reactivo.</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">- d[A] / dt = k[A]²</span></p>
                    <p class="text-lg mb-4">Separando variables e integrando:</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">∫ (1/[A]²) d[A] = -k ∫ dt</span></p>
                    <p class="text-lg mb-4">Obtenemos la ecuación linealizada:</p>
                    <div class="text-xl text-center my-4 p-4 bg-yellow-100 rounded-lg">
                        <span class="formula">1/[A] = 1/[A]₀ + kt</span>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 17: Orden Dos (Vida Media) -->
            <section class="slide" id="slide-17">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Vida Media para Orden Dos</h2>
                    <div class="flex flex-col md:flex-row gap-6 items-center">
                        <div class="w-full md:w-1/2">
                            <p class="text-lg mb-2">Sustituyendo $[A] = [A]_0 / 2$:</p>
                            <p class="text-lg text-center p-2 bg-gray-100 rounded-lg"><span class="formula">1/([A]₀/2) = 1/[A]₀ + k*t₁/₂</span></p>
                            <p class="text-lg text-center p-2 my-2 bg-gray-100 rounded-lg"><span class="formula">2/[A]₀ = 1/[A]₀ + k*t₁/₂</span></p>
                            <p class="text-lg mb-2">Obtenemos la fórmula:</p>
                            <div class="text-xl text-center p-3 bg-yellow-100 rounded-lg">
                                <span class="formula">t₁/₂ = 1 / (k[A]₀)</span>
                            </div>
                            <p class="text-lg mt-4 font-semibold text-red-600">Nota: La vida media depende inversamente de la concentración inicial.</p>
                        </div>
                        <div class="w-full md:w-1/2">
                            <img src="Imagen11.png" alt="Gráfico de linealización para una reacción de segundo orden, mostrando 1/[C] vs tiempo, con una pendiente positiva igual a k." class="rounded-lg shadow-md">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 18: Determinación Gráfica -->
            <section class="slide" id="slide-18">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Determinación Gráfica del Orden</h2>
                    <p class="text-lg mb-4">Un método poderoso para determinar el orden es graficar los datos experimentales de [Concentración] vs. Tiempo de tres maneras diferentes:</p>
                    <ul class="space-y-3 text-xl text-center">
                        <li>Si el gráfico de <strong class="text-blue-600">[A] vs. t</strong> es una línea recta → <strong class="text-blue-600">Orden Cero</strong>.</li>
                        <li>Si el gráfico de <strong class="text-green-600">ln[A] vs. t</strong> es una línea recta → <strong class="text-green-600">Orden Uno</strong>.</li>
                        <li>Si el gráfico de <strong class="text-yellow-600">1/[A] vs. t</strong> es una línea recta → <strong class="text-yellow-600">Orden Dos</strong>.</li>
                    </ul>
                    <p class="mt-6 text-lg">Este método gráfico complementa al método de las velocidades iniciales que usaremos para nuestro caso de estudio.</p>
                </div>
            </section>

            <!-- Diapositiva 19: Método Velocidades Iniciales -->
            <section class="slide" id="slide-19">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Método de las Velocidades Iniciales</h2>
                    <p class="text-lg mb-4">Este método consiste en comparar la velocidad inicial de la reacción bajo diferentes concentraciones iniciales de los reactivos.</p>
                    <p class="text-lg mb-4">Al tomar la razón de las leyes de velocidad de dos experimentos, podemos despejar el orden de un reactivo mientras el otro se mantiene constante:</p>
                    <div class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg">
                        <span class="formula">v₂ / v₁ = ( k[A]₂<sup>m</sup>[B]₂<sup>n</sup> ) / ( k[A]₁<sup>m</sup>[B]₁<sup>n</sup> )</span>
                    </div>
                    <p class="text-lg mb-4">Si $[B]_1 = [B]_2$, la ecuación se simplifica a:</p>
                    <div class="text-xl text-center my-4 p-4 bg-blue-100 rounded-lg">
                        <span class="formula">v₂ / v₁ = ( [A]₂ / [A]₁ )<sup>m</sup></span>
                    </div>
                    <p class="text-lg mt-4">Ahora estamos listos para aplicar esto a los datos de la fábrica.</p>
                </div>
            </section>

            <!-- Diapositiva 20: Aplicación a la Fábrica -->
            <section class="slide" id="slide-20">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Aplicación a la Fábrica: Determinación Experimental</h2>
                    <p class="text-lg mb-4">Solicitamos datos al laboratorio para nuestra reacción <span class="formula">NO₂ + CO</span>. ¡Ayúdenos a analizarlos!</p>
                    <table class="w-full text-center border-collapse mb-4">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-2 border">Experimento</th>
                                <th class="p-2 border">[NO₂]₀ (M)</th>
                                <th class="p-2 border">[CO]₀ (M)</th>
                                <th class="p-2 border">Velocidad inicial (M/s)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td class="p-2 border">1</td><td class="p-2 border">0.10</td><td class="p-2 border">0.10</td><td class="p-2 border">5.0 x 10<sup>-3</sup></td></tr>
                            <tr><td class="p-2 border">2</td><td class="p-2 border">0.20</td><td class="p-2 border">0.10</td><td class="p-2 border">20.0 x 10<sup>-3</sup></td></tr>
                            <tr><td class="p-2 border">3</td><td class="p-2 border">0.20</td><td class="p-2 border">0.20</td><td class="p-2 border">20.0 x 10<sup>-3</sup></td></tr>
                        </tbody>
                    </table>
                    <div class="flex justify-center gap-4 my-4">
                        <button id="compare-1-2" class="interactive-btn bg-blue-500 text-white py-2 px-4 rounded-lg">Comparar Exp. 1 y 2</button>
                        <button id="compare-2-3" class="interactive-btn bg-blue-500 text-white py-2 px-4 rounded-lg">Comparar Exp. 2 y 3</button>
                    </div>
                    <div id="order-calculation" class="mt-4 space-y-2 text-lg bg-gray-50 p-4 rounded-lg min-h-[100px]"></div>
                </div>
            </section>

            <!-- Diapositiva 21: Conclusiones Fase 1 -->
            <section class="slide" id="slide-21">
                <div class="w-full items-center text-center">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Conclusiones de la Fase 1</h2>
                    <div class="p-6 bg-blue-100 border-l-4 border-blue-500 rounded-lg">
                        <p class="text-xl mb-4">Nuestro primer diagnóstico es claro y nos permite hacer dos recomendaciones cruciales a la fábrica:</p>
                        <p class="text-lg mb-2">1. La velocidad es <strong class="text-red-600">independiente</strong> de la concentración de <span class="formula">CO</span>. Aumentar su flujo es un desperdicio de recursos.</p>
                        <p class="text-lg">2. La velocidad depende <strong class="text-green-600">fuertemente</strong> (al cuadrado) de la concentración de <span class="formula">NO₂</span>. La optimización debe centrarse en este reactivo.</p>
                    </div>
                </div>
            </section>
            
            <!-- Diapositiva 22: Teoría Colisiones -->
            <section class="slide" id="slide-22">
                   <div class="w-full">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Fase 2: La Teoría de las Colisiones</h2>
                         <p class="text-lg text-gray-600 mb-4">Para que una reacción ocurra, las moléculas deben chocar. Aumente la temperatura para ver cómo se mueven más rápido.</p>
                         <canvas id="gas-2d-canvas" class="w-full h-64 bg-gray-800 rounded-lg"></canvas>
                         <div class="text-center mt-2">
                                <label for="gas-temp-slider">Temperatura</label>
                                <input id="gas-temp-slider" type="range" min="1" max="10" value="3" class="w-1/2">
                         </div>
                </div>
            </section>

            <!-- Diapositiva 23: Frecuencia de Colisión -->
            <section class="slide" id="slide-23">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Paradoja de la Colisión</h2>
                    <p class="text-lg mb-4">A nivel molecular, las colisiones son increíblemente frecuentes. Para la reacción <span class="formula">2HI → H₂ + I₂</span>, se calculan unas <strong class="text-indigo-600">6 x 10³¹</strong> colisiones por mililitro cada segundo.</p>
                    <p class="text-lg mb-4">Sin embargo, la velocidad de reacción observada es mucho menor, equivalente a solo <strong class="text-indigo-600">2 x 10¹⁴</strong> moléculas reaccionando en el mismo tiempo.</p>
                    <blockquote class="text-2xl text-center my-6 p-4 bg-red-100 border-l-4 border-red-500 rounded-lg">
                        ¡Solo 1 de cada 10<sup>17</sup> colisiones es efectiva!
                    </blockquote>
                    <p class="text-2xl font-semibold text-center">¿Por qué?</p>
                </div>
            </section>
            
            <!-- Diapositiva 24: Colisión Efectiva -->
            <section class="slide" id="slide-24">
                   <div class="w-full">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Condiciones para una Colisión Efectiva</h2>
                        <p class="text-lg mb-4">Una colisión solo produce una reacción si cumple dos condiciones:</p>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1 p-4 bg-gray-50 rounded-lg text-center">
                                <h3 class="text-xl font-bold mb-2">1. Energía Suficiente</h3>
                                <img src="Imagen12.png" alt="Diagrama mostrando una colisión efectiva (con suficiente energía) que resulta en reacción, y una colisión ineficaz (poca energía) donde las moléculas simplemente rebotan." class="mx-auto my-2 h-40">
                                <p class="mt-2">La energía de la colisión debe superar la barrera de activación ($E_a$).</p>
                            </div>
                            <div class="flex-1 p-4 bg-gray-50 rounded-lg text-center">
                                <h3 class="text-xl font-bold mb-2">2. Orientación Adecuada</h3>
                                 <img src="Imagen13.png" alt="Diagrama del cono de reacción, mostrando que solo las colisiones con la orientación geométrica correcta pueden llevar a la formación de productos." class="mx-auto my-2 h-40">
                                 <p class="mt-2">Las moléculas deben chocar con la geometría correcta (el "cono de reacción").</p>
                            </div>
                        </div>
                </div>
            </section>
            
            <!-- Diapositiva 25: Energía de Activación -->
            <section class="slide" id="slide-25">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Energía de Activación (E<sub>a</sub>)</h2>
                    <p class="text-lg mb-4 text-center">Es la energía mínima necesaria para que los reactivos se transformen en el <strong>complejo activado</strong> o <strong>estado de transición</strong>, una especie inestable en la cima de la barrera energética.</p>
                    <div class="flex justify-center items-center mt-4">
                        <img src="Imagen15.png" alt="Visualización molecular del estado de transición en un perfil de reacción." class="rounded-lg shadow-md max-w-lg">
                    </div>
                </div>
            </section>

            <!-- Diapositiva 26: Perfiles Endo vs Exo -->
            <section class="slide" id="slide-26">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Perfiles de Reacción: Endo vs. Exotérmica</h2>
                    <p class="text-lg mb-4 text-center">La energía de activación es siempre una barrera a superar, independientemente de si la reacción libera o absorbe energía en total ($\Delta H$).</p>
                    <div class="flex flex-col md:flex-row justify-center items-center gap-8">
<div class="bg-gray-100 p-4 rounded-lg shadow-md w-full md:w-1/2 h-64 flex items-center justify-center">
  <img src="Imagen18.png" alt="Reacción Endotérmica" class="max-w-full max-h-full object-contain">
</div>

<div class="bg-gray-100 p-4 rounded-lg shadow-md w-full md:w-1/2 h-64 flex items-center justify-center">
  <img src="Imagen18.png" alt="Reacción Exotérmica" class="max-w-full max-h-full object-contain">
</div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 27: Ecuación de Arrhenius -->
            <section class="slide" id="slide-27">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Ecuación de Arrhenius</h2>
                    <p class="text-lg mb-4">Svante Arrhenius cuantificó la relación entre la constante de velocidad (k), la temperatura (T) y la energía de activación (Ea).</p>
                    <div class="text-xl text-center my-4 p-4 bg-green-100 rounded-lg">
                        <span class="formula">k = A * e<sup>-Ea/RT</sup></span>
                    </div>
                    <div class="flex flex-col md:flex-row gap-4 items-center">
                        <div class="w-full md:w-1/2">
                             <canvas id="boltzmannChart"></canvas>
                        </div>
                        <div class="w-full md:w-1/2">
                            <label for="temperature-slider-2" class="block text-lg font-medium text-gray-700">Temperatura: <span id="temperature-value-2" class="font-bold text-green-600">300</span> K</label>
                            <input id="temperature-slider-2" type="range" min="200" max="800" value="300" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            <div class="mt-4 text-center">
                                <p class="text-lg">Fracción de Moléculas Efectivas (e<sup>-Ea/RT</sup>):</p>
                                <div id="effective-fraction" class="text-4xl font-bold text-green-600">0.0%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 28: Determinación Gráfica de Ea -->
            <section class="slide" id="slide-28">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Determinación Gráfica de E<sub>a</sub></h2>
                    <p class="text-lg mb-4">La ecuación de Arrhenius se puede linealizar aplicando logaritmos neperianos:</p>
                    <p class="text-xl text-center my-4 p-4 bg-gray-100 rounded-lg"><span class="formula">ln(k) = - (Ea/R) * (1/T) + ln(A)</span></p>
                    <p class="text-lg mb-4">Esto tiene la forma de una recta ($y = mx + b$). Al graficar $ln(k)$ frente a $1/T$ para una serie de experimentos a diferentes temperaturas, obtenemos una línea recta.</p>
                    <div class="flex justify-center">
                        <img src="Imagen20.png" alt="Gráfico de Arrhenius mostrando ln(k) vs 1/T. Es una línea recta con pendiente negativa." class="rounded-lg shadow-md my-4 w-full max-w-lg">
                    </div>
                    <p class="text-xl text-center mt-4 p-4 bg-green-100 rounded-lg font-semibold">La pendiente de la recta es igual a -E<sub>a</sub>/R, lo que nos permite calcular la energía de activación.</p>
                </div>
            </section>
            
            <!-- Diapositiva 29: Conclusiones Fase 2 -->
            <section class="slide" id="slide-29">
                   <div class="w-full items-center text-center">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Conclusiones de la Fase 2</h2>
                        <div class="p-6 bg-green-100 border-l-4 border-green-500 rounded-lg">
                            <p class="text-xl mb-4">Hemos entendido el rol de la temperatura y la barrera energética.</p>
                            <p class="text-lg">Aumentar la temperatura es una opción para acelerar el proceso de la fábrica, pero probablemente no sea la más eficiente ni económica. Debemos investigar a un nivel más profundo para encontrar una solución superior.</p>
                        </div>
                </div>
            </section>
            
            <!-- Diapositiva 30: Mecanismo y Leyes de Velocidad -->
            <section class="slide" id="slide-30">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Fase 3: Mecanismo y Leyes de Velocidad</h2>
                    <p class="text-lg mb-4">La ley de velocidad está determinada por el mecanismo de reacción, no por la estequiometría global. Consideremos una reacción compleja:</p>
                    <div class="bg-gray-800 text-white p-6 rounded-lg font-mono text-lg text-center shadow-lg">
                        <p class="text-2xl mb-4">Reacción Global: <span class="text-cyan-400">3A + 2B → C + D</span></p>
                        <div class="text-left border-t border-gray-600 pt-4 mt-4">
                            <p>Paso 1: <span class="text-yellow-400">A + B → E + F</span> (Lento)</p>
                            <p>Paso 2: <span class="text-gray-400">A + E → H</span> (Rápido)</p>
                            <p>Paso 3: <span class="text-gray-400">A + F → G</span> (Rápido)</p>
                            <p>Paso 4: <span class="text-gray-400">H + G + B → C + D</span> (Rápido)</p>
                        </div>
                    </div>
                    <p class="text-xl mt-6 text-center">Como el Paso 1 es el más lento (el cuello de botella), la ley de velocidad será: <span class="formula">v = k[A][B]</span></p>
                </div>
            </section>

            <!-- Diapositiva 31: Etapas Elementales y Molecularidad -->
            <section class="slide" id="slide-31">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Etapas Elementales y Molecularidad</h2>
                    <p class="text-lg mb-4">La <strong>molecularidad</strong> es el número de moléculas de reactivo que intervienen en un proceso elemental. Es un concepto teórico que se aplica a un único paso de reacción.</p>
                    
                    <div class="w-full max-w-2xl mx-auto mt-4">
                         <div class="flex border-b">
                            <button data-tab="unimolecular" class="tab-btn flex-1 py-2 px-4 text-center font-semibold text-gray-700 bg-gray-200 rounded-t-lg transition-colors duration-200">Unimolecular</button>
                            <button data-tab="bimolecular" class="tab-btn flex-1 py-2 px-4 text-center font-semibold text-gray-500 hover:bg-gray-100 transition-colors duration-200">Bimolecular</button>
                            <button data-tab="termolecular" class="tab-btn flex-1 py-2 px-4 text-center font-semibold text-gray-500 hover:bg-gray-100 transition-colors duration-200">Termolecular</button>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-b-lg">
                            <!-- Unimolecular Content -->
                            <div id="unimolecular" class="tab-content">
                                <h3 class="text-xl font-semibold mb-2">Proceso Unimolecular</h3>
                                <p>Una sola molécula se reordena o descompone. Ejemplo: $O_3^* \rightarrow O_2 + O$.</p>
                                <p class="mt-2">La ley de velocidad para este paso es de primer orden: $v = k[O_3^*]$.</p>
                                <div class="step-container mt-4">
                                    <div class="molecule o3">$O_3^*$</div>
                                    <div class="reaction-arrow">→</div>
                                    <div class="flex items-center gap-2"><div class="molecule o2">$O_2$</div> + <div class="molecule o">O</div></div>
                                </div>
                            </div>
                            <!-- Bimolecular Content -->
                            <div id="bimolecular" class="tab-content hidden">
                                <h3 class="text-xl font-semibold mb-2">Proceso Bimolecular</h3>
                                <p>Dos moléculas chocan para reaccionar. Ejemplo: $NO + O_3 \rightarrow NO_2 + O_2$.</p>
                                <p class="mt-2">La ley de velocidad para este paso es de segundo orden: $v = k[NO][O_3]$.</p>
                                 <div class="step-container mt-4">
                                    <div class="flex items-center gap-2"><div class="molecule no">NO</div> + <div class="molecule o3">$O_3$</div></div>
                                    <div class="reaction-arrow">→</div>
                                    <div class="flex items-center gap-2"><div class="molecule no2">$NO_2$</div> + <div class="molecule o2">$O_2$</div></div>
                                </div>
                            </div>
                            <!-- Termolecular Content -->
                            <div id="termolecular" class="tab-content hidden">
                                <h3 class="text-xl font-semibold mb-2">Proceso Termolecular</h3>
                                <p>Tres partículas chocan simultáneamente. Es un evento muy poco probable. Ejemplo: $O + O + M \rightarrow O_2 + M$.</p>
                                <p class="mt-2">La ley de velocidad para este paso es de tercer orden: $v = k[O]^2[M]$.</p>
                                <div class="step-container mt-4">
                                    <div class="flex items-center gap-2"><div class="molecule o">O</div> + <div class="molecule o">O</div> + <div class="molecule n2">M</div></div>
                                    <div class="reaction-arrow">→</div>
                                    <div class="flex items-center gap-2"><div class="molecule o2">$O_2$</div> + <div class="molecule n2">M</div></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <p class="mt-6 text-xl font-bold text-center p-4 bg-yellow-100 border-l-4 border-yellow-500 rounded-lg">Para una etapa elemental, y <strong class="text-red-600">solo</strong> para una etapa elemental, la molecularidad coincide con el orden de reacción.</p>
                </div>
            </section>
            
            <!-- Diapositiva 32: RDS -->
            <section class="slide" id="slide-32">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">La Etapa Determinante de la Velocidad (RDS)</h2>
                    <p class="text-lg mb-4">En un mecanismo de varios pasos, siempre hay una etapa que es mucho más lenta que las demás. Esta es la etapa determinante de la velocidad o "cuello de botella".</p>
                    <div class="flex justify-center my-4">
                        <img src="Imagen21.jpg" alt="Vista aérea de un gran atasco de tráfico en una autopista de varios carriles." class="rounded-lg shadow-md w-full max-w-xl">
                    </div>
                    <p class="mt-4 text-lg font-semibold">La ley de velocidad de la reacción global es la ley de velocidad de esta etapa lenta.</p>
                </div>
            </section>

            <!-- Diapositiva 33: Galería de Mecanismos -->
            <section class="slide" id="slide-33">
                <div class="w-full">
                    <h2 class="text-2xl font-bold mb-6 text-center">Galería de Mecanismos de Reacción</h2>
                    <p class="mb-8 text-center text-gray-600">Explora los mecanismos de las reacciones del documento. Haz clic en "Revelar Mecanismo" para ver cada paso elemental.</p>
                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- Card 1: 2 N2O5 -->
                        <div class="flex flex-col p-4 bg-gray-50 rounded-lg shadow-inner">
                            <h3 class="font-bold text-center text-lg mb-2">Descomposición de N₂O₅</h3>
                            <p class="text-center font-semibold text-gray-700 mb-4">Reacción Global: <span class="formula">2N₂O₅ → 4NO₂ + O₂</span></p>
                            <div id="mechanism-1" class="space-y-2">
                               <div class="mechanism-step border-t pt-2">
                                   <p class="text-sm font-semibold text-center">Paso 1: <span class="formula">N₂O₅ → NO₂ + NO₃</span></p>
                                   <div class="step-container">
                                       <div class="reactant-container"><div class="molecule n2o5">N₂O₅</div></div>
                                       <div class="reaction-arrow">→</div>
                                       <div class="product-container"><div class="molecule no2">NO₂</div> + <div class="molecule no3 intermediate">NO₃</div></div>
                                   </div>
                               </div>
                               <div class="mechanism-step border-t pt-2">
                                   <p class="text-sm font-semibold text-center">Paso 2: <span class="formula">NO₂ + NO₃ → NO₂ + O₂ + NO</span></p>
                                   <div class="step-container">
                                       <div class="reactant-container"><div class="molecule no2">NO₂</div> + <div class="molecule no3 intermediate">NO₃</div></div>
                                       <div class="reaction-arrow">→</div>
                                       <div class="product-container"><div class="molecule no2">NO₂</div> + <div class="molecule o2">O₂</div> + <div class="molecule no intermediate">NO</div></div>
                                   </div>
                               </div>
                               <div class="mechanism-step border-t pt-2">
                                   <p class="text-sm font-semibold text-center">Paso 3: <span class="formula">NO + NO₃ → 2NO₂</span></p>
                                   <div class="step-container">
                                       <div class="reactant-container"><div class="molecule no intermediate">NO</div> + <div class="molecule no3 intermediate">NO₃</div></div>
                                       <div class="reaction-arrow">→</div>
                                       <div class="product-container"><div class="molecule no2">NO₂</div><div class="molecule no2">NO₂</div></div>
                                   </div>
                               </div>
                            </div>
                            <div class="text-center mt-4">
                                <button data-mech-id="1" class="btn-reveal bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg">Revelar Mecanismo</button>
                            </div>
                        </div>

                        <!-- Card 2: 2 N2O -->
                        <div class="flex flex-col p-4 bg-gray-50 rounded-lg shadow-inner">
                            <h3 class="font-bold text-center text-lg mb-2">Descomposición de N₂O</h3>
                            <p class="text-center font-semibold text-gray-700 mb-4">Reacción Global: <span class="formula">2N₂O → 2N₂ + O₂</span></p>
                             <div id="mechanism-2" class="space-y-2">
                               <div class="mechanism-step border-t pt-2">
                                   <p class="text-sm font-semibold text-center">Paso 1: <span class="formula">N₂O → N₂ + O</span></p>
                                   <div class="step-container">
                                       <div class="reactant-container"><div class="molecule n2o">N₂O</div></div>
                                       <div class="reaction-arrow">→</div>
                                       <div class="product-container"><div class="molecule n2">N₂</div> + <div class="molecule o intermediate">O</div></div>
                                   </div>
                               </div>
                               <div class="mechanism-step border-t pt-2">
                                   <p class="text-sm font-semibold text-center">Paso 2: <span class="formula">N₂O + O → N₂ + O₂</span></p>
                                   <div class="step-container">
                                       <div class="reactant-container"><div class="molecule n2o">N₂O</div> + <div class="molecule o intermediate">O</div></div>
                                       <div class="reaction-arrow">→</div>
                                       <div class="product-container"><div class="molecule n2">N₂</div> + <div class="molecule o2">O₂</div></div>
                                   </div>
                               </div>
                            </div>
                            <div class="text-center mt-4">
                                <button data-mech-id="2" class="btn-reveal bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg">Revelar Mecanismo</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 34: Mecanismo Propuesto -->
            <section class="slide" id="slide-34">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Mecanismo Propuesto para la Reacción de la Fábrica</h2>
                    <p class="text-lg mb-4">Basado en la ley de velocidad experimental ($v = k[NO_2]^2$), podemos proponer un mecanismo de dos pasos:</p>
                    <div class="flex justify-center my-4">
                        <img src="Imagen22.png" alt="Mecanismo de reacción de dos pasos para NO2 y CO" class="rounded-lg shadow-md w-full max-w-3xl">
                    </div>
                    <ul class="space-y-3 text-lg mt-4">
                        <li><strong>Paso 1 (Lento):</strong> <span class="formula">NO₂(g) + NO₂(g) → NO₃(g) + NO(g)</span></li>
                        <li><strong>Paso 2 (Rápido):</strong> <span class="formula">NO₃(g) + CO(g) → NO₂(g) + CO₂(g)</span></li>
                    </ul>
                    <p class="mt-4 text-lg font-semibold">Como el primer paso es el lento (el cuello de botella), su ley de velocidad ($v = k[NO_2]^2$) determina la ley de velocidad global, lo que coincide perfectamente con nuestros hallazgos experimentales.</p>
                </div>
            </section>
            
            <!-- Diapositiva 35: Etapa Determinante de la Velocidad -->
            <section class="slide" id="slide-35">
                 <div class="w-full max-w-4xl">
                    <h2 class="text-2xl font-bold mb-4 text-center">El Cuello de Botella de la Reacción</h2>
                    <p class="mb-4 text-center">En un mecanismo de varios pasos, la reacción global no puede ser más rápida que su <strong>paso más lento</strong>. Este paso, conocido como la <strong>etapa determinante de la velocidad</strong>, tiene la barrera de energía (energía de activación) más alta.</p>
                    <p class="mb-6 text-center">Funciona como un cuello de botella: no importa cuán rápido sean los otros pasos, la velocidad general está limitada por la etapa más lenta. Observa en la simulación cómo la primera barrera, más alta, controla el flujo de reactivos a productos.</p>
                    
                    <div class="bg-gray-100 p-4 rounded-lg">
                        <svg id="rds-simulation" viewBox="0 0 400 200" class="w-full h-auto">
                            <!-- Axis labels -->
                            <text x="5" y="15" font-size="10" font-family="sans-serif" fill="#374151">Energía</text>
                            <text x="320" y="195" font-size="10" font-family="sans-serif" fill="#374151">Progreso de la Reacción</text>
                            
                            <!-- Energy profile path -->
                            <path id="energy-path" d="M 20 170 C 60 170, 70 30, 110 30 C 150 30, 150 120, 190 120 C 230 120, 230 80, 270 80 C 310 80, 340 150, 380 150" stroke="#a5b4fc" stroke-width="4" fill="none" stroke-linecap="round"/>
                            
                            <!-- Energy level labels -->
                            <text x="22" y="185" font-size="10">Reactivos</text>
                            <text x="165" y="135" font-size="10">Intermediario</text>
                            <text x="340" y="165" font-size="10">Productos</text>
                            
                            <!-- Activation Energy barriers -->
                            <path d="M 110 30 L 110 170" stroke="#f87171" stroke-width="1.5" stroke-dasharray="3,3"/>
                            <text x="115" y="45" fill="#ef4444" font-size="12" font-weight="bold">Ea (lenta)</text>
                            <text x="115" y="60" fill="#ef4444" font-size="10">Paso 1</text>

                            <path d="M 270 80 L 270 120" stroke="#34d399" stroke-width="1.5" stroke-dasharray="3,3"/>
                            <text x="275" y="95" fill="#10b981" font-size="12" font-weight="bold">Ea (rápida)</text>
                            <text x="275" y="110" fill="#10b981" font-size="10">Paso 2</text>
                            
                            <!-- Container for particles -->
                            <g id="particle-container"></g>
                        </svg>
                    </div>
                    
                    <div class="text-center mt-6">
                        <button id="btn-start-rds" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-transform transform hover:scale-105">
                            Iniciar Simulación
                        </button>
                    </div>
                </div>
            </section>

            <!-- Diapositiva 36: Conclusiones Fase 3 -->
            <section class="slide" id="slide-36">
                   <div class="w-full items-center text-center">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Conclusiones de la Fase 3</h2>
                        <div class="p-6 bg-yellow-100 border-l-4 border-yellow-500 rounded-lg">
                            <p class="text-xl mb-4">¡Hemos descifrado el misterio a nivel molecular!</p>
                            <p class="text-lg">El verdadero cuello de botella de la reacción de la fábrica es la colisión inicial entre dos moléculas de <span class="formula">NO₂</span>. El <span class="formula">CO</span> solo entra en juego en una etapa posterior y rápida. Ahora podemos diseñar una solución inteligente.</p>
                        </div>
                </div>
            </section>

            <!-- Diapositiva 37: Principio de la Catálisis -->
            <section class="slide" id="slide-37">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Fase 4: El Principio de la Catálisis</h2>
                    <p class="text-lg mb-4">Un <strong>catalizador</strong> es una sustancia que cambia la velocidad de una reacción sin ser consumida. Lo logra proporcionando una ruta de reacción alternativa con una energía de activación diferente.</p>
                    <ul class="space-y-2 text-lg my-4 list-disc list-inside">
                        <li><strong>Propiedades:</strong> Se recuperan al final, bastan pequeñas cantidades.</li>
                        <li><strong>Catálisis Positiva:</strong> Acelera la reacción (E<sub>a</sub> más baja). Es la más común.</li>
                        <li><strong>Catálisis Negativa (Inhibición):</strong> Retarda la reacción (E<sub>a</sub> más alta).</li>
                    </ul>
                    <div class="w-full">
                        <canvas id="catalystChart"></canvas>
                    </div>
                    <div class="text-center mt-4">
                        <button id="catalyst-btn" class="interactive-btn bg-purple-500 text-white py-2 px-4 rounded-lg">Añadir Catalizador</button>
                    </div>
                </div>
            </section>
            
            <!-- Diapositiva 38: Catálisis Heterogénea -->
            <section class="slide" id="slide-38">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Catálisis Heterogénea: Reactivos en Fases Distintas</h2>
                    <p class="text-lg mb-4 text-center">Los reactivos (gases) se adsorben en la superficie de un catalizador (sólido), reaccionan y luego se desorben como productos. Es la base de los convertidores catalíticos.</p>
                    <img src="Imagen25.jpg" alt="Mecanismo de catálisis heterogénea mostrando la hidrogenación del etileno en una superficie metálica." class="mx-auto rounded-lg shadow-md my-4 w-full max-w-4xl">
                </div>
            </section>

            <!-- Diapositiva 39: Catálisis Homogénea -->
            <section class="slide" id="slide-39">
                <div class="w-full">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">Catálisis Homogénea: Reactivos en la Misma Fase</h2>
                    <p class="text-lg mb-4 text-center">El catalizador y los reactivos están en la misma fase (ej. todos en disolución). La reacción procede a través de un intermediario, abriendo una nueva ruta con barreras más bajas.</p>
                    <img src="Imagen26.png" alt="Perfil de reacción para la catálisis homogénea de la descomposición del peróxido de hidrógeno." class="mx-auto rounded-lg shadow-md my-4 w-full max-w-3xl">
                </div>
            </section>
            
            <!-- Diapositiva 40: Recomendación Final -->
            <section class="slide" id="slide-40">
                   <div class="w-full items-center text-center">
                         <h2 class="text-3xl font-bold text-gray-800 mb-6">Recomendación Final y Ventajas</h2>
                        <div class="p-6 bg-purple-100 border-l-4 border-purple-500 rounded-lg">
                            <p class="text-xl mb-4">Nuestra recomendación final para la fábrica es el diseño e implementación de un <strong>reactor catalítico heterogéneo</strong>.</p>
                            <p class="text-lg">Esta solución permitirá al proceso operar a temperaturas mucho más bajas, logrando una velocidad de conversión superior. Las ventajas son claras:</p>
                            <ul class="text-left list-disc list-inside mt-2">
                                <li>Mayor eficiencia de conversión.</li>
                                <li>Menor coste energético.</li>
                                <li>Cumplimiento de las normativas medioambientales.</li>
                            </ul>
                        </div>
                </div>
            </section>
            
            <!-- Diapositiva 41: Resumen -->
            <section class="slide" id="slide-41">
                <div class="w-full">
                     <h2 class="text-3xl font-bold text-gray-800 mb-6">Resumen del Viaje del Consultor</h2>
                    <p class="text-lg mb-6">Hemos transformado un problema industrial en una solución de ingeniería a través de la ciencia:</p>
                     <ul class="space-y-3 text-lg">
                            <li><strong>Problema:</strong> Una reacción lenta e ineficiente.</li>
                            <li><strong>Fase 1:</strong> Descubrimos <span class="font-semibold">qué</span> reactivo era importante con la <span class="text-blue-600">Ley de Velocidad</span>.</li>
                            <li><strong>Fase 2:</strong> Evaluamos el efecto de la temperatura con la <span class="text-green-600">Ecuación de Arrhenius</span>.</li>
                            <li><strong>Fase 3:</strong> Entendimos el <span class="font-semibold">porqué</span> de la lentitud con el <span class="text-yellow-600">Mecanismo de Reacción</span>.</li>
                            <li><strong>Fase 4:</strong> Diseñamos la solución óptima con la <span class="text-purple-600">Catálisis</span>.</li>
                       </ul>
                </div>
            </section>
            
            <!-- Diapositiva 42: Final -->
            <section class="slide" id="slide-42">
                <div class="w-full items-center text-center">
                    <h2 class="text-4xl font-bold text-gray-800 mb-6">La Cinética Química como Herramienta Esencial</h2>
                    <p class="text-xl text-gray-600 max-w-3xl">
                        Controlar la velocidad de las reacciones no es solo un ejercicio académico. Es la clave para desarrollar procesos industriales sostenibles, crear nuevos medicamentos, proteger nuestro medio ambiente y entender la maquinaria de la vida misma.
                    </p>
                    <p class="mt-12 text-2xl font-bold text-indigo-600">Gracias por su atención.</p>
                </div>
            </section>
        </div>

        <!-- Navegación -->
        <footer class="flex justify-between items-center p-4 bg-gray-100 border-t">
            <button id="prev-btn" class="btn-nav bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg">Anterior</button>
            <div id="slide-counter" class="text-gray-600 font-semibold">Diapositiva 1 / 42</div>
            <button id="next-btn" class="btn-nav bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg">Siguiente</button>
        </footer>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const slideCounter = document.getElementById('slide-counter');
            let currentSlideIndex = 0;
            const totalSlides = slides.length;
            let charts = {};
            let animations = {};

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.remove('active');
                    if (charts[i]) {
                        charts[i].destroy();
                        delete charts[i];
                    }
                    if (animations[i] && animations[i].stop) {
                        animations[i].stop();
                        delete animations[i];
                    }
                });

                if (slides[index]) {
                    slides[index].classList.add('active');
                    // Initialize animations for the current slide
                    if (index === 5) initConcVsTimeChart();
                    if (index === 11) initIntegratedLawsChart();
                    if (index === 15) initHalfLifeChart2();
                    if (index === 19) initOrderCalculation();
                    if (index === 21) initGas2DAnimation();
                    if (index === 26) initBoltzmannChart();
                    if (index === 30) initMolecularityTabs();
                    if (index === 32) initMechanismReveal();
                    if (index === 34) initRdsSimulation();
                    if (index === 36) initCatalystChart(); 
                }
                
                slideCounter.textContent = `Diapositiva ${index + 1} / ${totalSlides}`;
                prevBtn.disabled = index === 0;
                nextBtn.disabled = index === totalSlides - 1;
            }

            prevBtn.addEventListener('click', () => {
                if (currentSlideIndex > 0) {
                    currentSlideIndex--;
                    showSlide(currentSlideIndex);
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentSlideIndex < totalSlides - 1) {
                    currentSlideIndex++;
                    showSlide(currentSlideIndex);
                }
            });

            // --- Chart and Animation Initializations ---
            
            function initConcVsTimeChart() {
                const ctx = document.getElementById('concVsTimeChart')?.getContext('2d');
                if (!ctx) return;
                if (charts[5]) charts[5].destroy();
                charts[5] = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: [0, 10, 20, 30, 40, 50, 60],
                        datasets: [{
                            label: 'Reactivo [A]',
                            data: [1.0, 0.74, 0.54, 0.40, 0.30, 0.22, 0.16],
                            borderColor: 'rgb(239, 68, 68)',
                            tension: 0.1
                        }, {
                            label: 'Producto [B]',
                            data: [0, 0.26, 0.46, 0.60, 0.70, 0.78, 0.84],
                            borderColor: 'rgb(59, 130, 246)',
                            tension: 0.1
                        }]
                    },
                    options: { responsive: true, plugins: { title: { display: true, text: 'Concentración vs. Tiempo' } }, scales: { x: { title: { display: true, text: 'Tiempo (s)' } }, y: { title: { display: true, text: 'Concentración (M)' } } } }
                });
            }

            function initIntegratedLawsChart() {
                const ctx = document.getElementById('integratedLawsChart')?.getContext('2d');
                if (!ctx) return;
                if (charts[11]) charts[11].destroy();
                charts[11] = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: [0, 1, 2, 3, 4, 5],
                        datasets: [
                            { label: '[A] vs t (Orden 0)', data: [1, 0.8, 0.6, 0.4, 0.2, 0], borderColor: 'rgb(59, 130, 246)'},
                            { label: 'ln[A] vs t (Orden 1)', data: [0, -0.69, -1.38, -2.07, -2.77, -3.46], borderColor: 'rgb(34, 197, 94)'},
                            { label: '1/[A] vs t (Orden 2)', data: [1, 2, 3, 4, 5, 6], borderColor: 'rgb(234, 179, 8)'},
                        ]
                    },
                    options: { responsive: true, plugins: { title: { text: 'Gráficas Linealizadas por Orden de Reacción', display: true }}}
                });
            }
            
            function initHalfLifeChart2() {
                 // Static images are used, no JS needed for this slide anymore.
            }

            function initGas2DAnimation() {
                const canvas = document.getElementById('gas-2d-canvas');
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                const slider = document.getElementById('gas-temp-slider');
                let particles = [];
                const numParticles = 50;
                let animationFrameId;

                function resizeCanvas() {
                    if (!canvas) return;
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                }
                resizeCanvas();
                window.addEventListener('resize', resizeCanvas);

                for (let i = 0; i < numParticles; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        vx: (Math.random() - 0.5) * 2,
                        vy: (Math.random() - 0.5) * 2,
                        radius: 5,
                        color: 'white'
                    });
                }

                function draw() {
                    if (!ctx) return;
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    const speedMultiplier = slider.value;
                    particles.forEach(p => {
                        p.x += p.vx * speedMultiplier;
                        p.y += p.vy * speedMultiplier;

                        if (p.x < p.radius || p.x > canvas.width - p.radius) p.vx *= -1;
                        if (p.y < p.radius || p.y > canvas.height - p.radius) p.vy *= -1;
                        
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                        ctx.fillStyle = p.color;
                        ctx.fill();
                    });
                    animationFrameId = requestAnimationFrame(draw);
                }
                
                animations[21] = { stop: () => cancelAnimationFrame(animationFrameId) };
                draw();
            }

            function initBoltzmannChart() {
                const slider = document.getElementById('temperature-slider-2');
                const tempValue = document.getElementById('temperature-value-2');
                const fractionValue = document.getElementById('effective-fraction');
                const ctx = document.getElementById('boltzmannChart')?.getContext('2d');
                if(!slider || !tempValue || !fractionValue || !ctx) return;
                const Ea = 60;

                function boltzmannDistribution(E, T) {
                    const k = 0.02;
                    if (E < 0) return 0;
                    return (2 * Math.sqrt(E / Math.PI) * Math.pow(1 / (k * T), 1.5) * Math.exp(-E / (k * T)));
                }

                function updateChart() {
                    const T = slider.value;
                    tempValue.textContent = T;

                    const chart = charts[26];
                    let totalArea = 0;
                    let effectiveArea = 0;
                    
                    const dataPoints = [];
                    for (let E = 0; E <= 150; E += 2) {
                        const val = boltzmannDistribution(E, T);
                        dataPoints.push(val);
                        totalArea += val;
                        if (E >= Ea) {
                            effectiveArea += val;
                        }
                    }

                    const effectiveFraction = totalArea > 0 ? (effectiveArea / totalArea) * 100 : 0;
                    fractionValue.textContent = effectiveFraction.toFixed(1) + '%';
                    
                    chart.data.datasets[0].data = dataPoints;
                    
                    const backgroundColors = dataPoints.map((_, index) => {
                        const energy = index * 2;
                        return energy >= Ea ? 'rgba(34, 197, 94, 0.6)' : 'rgba(239, 68, 68, 0.4)';
                    });
                    chart.data.datasets[0].backgroundColor = backgroundColors;

                    chart.update('none');
                }

                if (charts[26]) charts[26].destroy();
                charts[26] = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: Array.from({length: 76}, (_, i) => i * 2),
                        datasets: [{
                            label: 'Distribución de Energía',
                            data: [],
                            barPercentage: 1.1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: { legend: {display: false}, title: { display: true, text: 'Distribución de Energía de Maxwell-Boltzmann' } },
                        scales: {
                            x: { title: { display: true, text: 'Energía Cinética' } },
                            y: { title: { display: true, text: 'Fracción de Moléculas' }, beginAtZero: true }
                        },
                        animation: { duration: 0 }
                    }
                });
                
                slider.addEventListener('input', updateChart);
                updateChart();
            }
            
            function initOrderCalculation() {
                const btn12 = document.getElementById('compare-1-2');
                const btn23 = document.getElementById('compare-2-3');
                const output = document.getElementById('order-calculation');
                if(!btn12 || !btn23 || !output) return;
                
                const showCalculation = (text, delay) => {
                    const p = document.createElement('p');
                    p.innerHTML = text;
                    p.className = 'calculation-step';
                    output.appendChild(p);
                    setTimeout(() => p.classList.add('visible'), delay);
                };

                btn12.onclick = () => {
                    output.innerHTML = '';
                    showCalculation('<strong>Comparando Experimentos 1 y 2:</strong>', 0);
                    showCalculation('Se mantiene [CO] constante y se duplica [NO₂] (de 0.10 a 0.20 M).', 500);
                    showCalculation('La velocidad cambia de 5.0x10⁻³ a 20.0x10⁻³ M/s. ¡Se cuadruplica! (4x)', 1000);
                    showCalculation('Matemáticamente: (v₂/v₁) = ([NO₂]₂/[NO₂]₁)<sup>m</sup>&nbsp; =>&nbsp; 4 = (2)<sup>m</sup>', 1500);
                    showCalculation('Por lo tanto, el orden respecto a [NO₂] es <strong class="text-green-600">m = 2</strong>.', 2000);
                };
                 btn23.onclick = () => {
                    output.innerHTML = '';
                    showCalculation('<strong>Comparando Experimentos 2 y 3:</strong>', 0);
                    showCalculation('Se mantiene [NO₂] constante y se duplica [CO] (de 0.10 a 0.20 M).', 500);
                    showCalculation('La velocidad no cambia (20.0x10⁻³ M/s).', 1000);
                    showCalculation('Matemáticamente: (v₃/v₂) = ([CO]₃/[CO]₂)<sup>n</sup>&nbsp; =>&nbsp; 1 = (2)<sup>n</sup>', 1500);
                    showCalculation('Por lo tanto, el orden respecto a [CO] es <strong class="text-red-600">n = 0</strong>.', 2000);
                };
            }

            function initMolecularityTabs() {
                const activeSlide = document.querySelector('.slide.active');
                if (!activeSlide) return;

                const tabButtons = activeSlide.querySelectorAll('.tab-btn');
                const tabContents = activeSlide.querySelectorAll('.tab-content');

                if (tabButtons.length === 0) return;

                tabButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const tabId = button.dataset.tab;

                        tabButtons.forEach(btn => {
                            btn.classList.remove('bg-gray-200', 'text-gray-700');
                            btn.classList.add('text-gray-500', 'hover:bg-gray-100');
                        });
                        button.classList.add('bg-gray-200', 'text-gray-700');
                        button.classList.remove('text-gray-500', 'hover:bg-gray-100');

                        tabContents.forEach(content => {
                            if (content.id === tabId) {
                                content.classList.remove('hidden');
                            } else {
                                content.classList.add('hidden');
                            }
                        });
                    });
                });
            }

            function initMechanismReveal() {
                const revealButtons = document.querySelectorAll('.btn-reveal');
                if (!revealButtons) return;
                
                revealButtons.forEach(button => {
                    const mechId = button.dataset.mechId;
                    const mechanismContainer = document.getElementById(`mechanism-${mechId}`);
                    const steps = mechanismContainer.querySelectorAll('.mechanism-step');
                    let currentStep = 0;

                    // Reset state on init
                    steps.forEach(step => step.classList.remove('visible'));
                    button.textContent = 'Revelar Mecanismo';
                    currentStep = 0;

                    button.addEventListener('click', () => {
                        if (currentStep < steps.length) {
                            steps[currentStep].classList.add('visible');
                            currentStep++;
                            if (currentStep === steps.length) {
                                button.textContent = 'Reiniciar';
                            }
                        } else {
                            steps.forEach(step => step.classList.remove('visible'));
                            currentStep = 0;
                            button.textContent = 'Revelar Mecanismo';
                        }
                    });
                });
            }

             function initRdsSimulation() {
                const activeSlide = document.querySelector('.slide.active');
                if (!activeSlide) return;

                const btnStartRds = activeSlide.querySelector('#btn-start-rds');
                const energyPath = activeSlide.querySelector('#energy-path');
                const particleContainer = activeSlide.querySelector('#particle-container');
                
                if (!btnStartRds || !energyPath || !particleContainer) return;

                const pathLength = energyPath.getTotalLength();
                let rdsAnimationId;
                let isSimulating = false;

                const runRdsSimulation = () => {
                    if (isSimulating) return;
                    isSimulating = true;
                    btnStartRds.disabled = true;
                    btnStartRds.textContent = 'Simulando...';
                    btnStartRds.classList.add('opacity-50', 'cursor-not-allowed');

                    particleContainer.innerHTML = '';
                    cancelAnimationFrame(rdsAnimationId);

                    const numParticles = 25;
                    const particles = [];

                    for (let i = 0; i < numParticles; i++) {
                        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                        circle.setAttribute('r', '4');
                        circle.setAttribute('fill', `hsl(${200 + i*5}, 80%, 50%)`);
                        particleContainer.appendChild(circle);
                        
                        particles.push({
                            el: circle,
                            distance: 0,
                            speed: 1 + Math.random() * 0.5,
                            delay: i * 120 // Stagger start times
                        });
                    }
                    
                    let startTime = null;
                    const peak1Position = pathLength * 0.35;
                    const peak2Position = pathLength * 0.7;

                    function animate(timestamp) {
                        if (!startTime) startTime = timestamp;
                        const elapsed = timestamp - startTime;

                        particles.forEach(p => {
                            if (elapsed < p.delay) return;

                            p.distance += p.speed;

                            if (p.distance > peak1Position - 20 && p.distance < peak1Position + 20) {
                                p.speed = 0.3; 
                            } 
                            else if (p.distance > peak2Position - 15 && p.distance < peak2Position + 15) {
                                p.speed = 0.8;
                            } 
                            else {
                                p.speed = 1.5 + Math.random() * 0.5;
                            }

                            if (p.distance > pathLength) p.distance = 0; // Reset particle
                            
                            const point = energyPath.getPointAtLength(p.distance);
                            p.el.setAttribute('cx', point.x);
                            p.el.setAttribute('cy', point.y);
                        });
                        
                        rdsAnimationId = requestAnimationFrame(animate);
                    }
                    rdsAnimationId = requestAnimationFrame(animate);

                    animations[34] = { stop: () => cancelAnimationFrame(rdsAnimationId) };

                    setTimeout(() => {
                        isSimulating = false;
                        btnStartRds.disabled = false;
                        btnStartRds.textContent = 'Reiniciar Simulación';
                        btnStartRds.classList.remove('opacity-50', 'cursor-not-allowed');
                    }, 8000);
                };

                btnStartRds.addEventListener('click', runRdsSimulation);
            }

            function initCatalystChart() {
                const btn = document.getElementById('catalyst-btn');
                const ctx = document.getElementById('catalystChart')?.getContext('2d');
                if(!btn || !ctx) return;
                let catalystAdded = false;

                const createPath = (start, peak, end, steps) => {
                    const path = [];
                    for (let i = 0; i <= steps; i++) {
                        const x = i / steps;
                        let y;
                        if (x < 0.5) {
                             y = start + (peak - start) * (1 - Math.pow(1 - 2*x, 2));
                        } else {
                             y = end + (peak - end) * (1 - Math.pow(2*x - 1, 2));
                        }
                        path.push({x: i, y: y});
                    }
                    path[steps] = {x: steps, y: end}; 
                    return path;
                };
                
                const data = {
                    labels: Array.from({length: 101}, (_, i) => i),
                    datasets: [{
                        label: 'Ruta No Catalizada',
                        data: createPath(20, 80, 40, 100),
                        borderColor: 'rgb(255, 99, 132)',
                        fill: false,
                        pointRadius: 0,
                        borderWidth: 3,
                        tension: 0.4
                    }]
                };

                const options = {
                    responsive: true,
                    plugins: { title: { display: true, text: 'Perfil de Reacción' } },
                    scales: {
                        x: { title: { display: true, text: 'Progreso de Reacción' }, ticks: { display: false } },
                        y: { title: { display: true, text: 'Energía Potencial' }, min: 0, max: 100 }
                    },
                    animation: {
                        duration: 1000
                    }
                };
                
                if (charts[36]) charts[36].destroy();
                charts[36] = new Chart(ctx, { type: 'line', data: data, options: options });

                btn.onclick = () => {
                    const chart = charts[36];
                    if (!catalystAdded) {
                        chart.data.datasets.push({
                            label: 'Ruta Catalizada',
                            data: createPath(20, 50, 40, 100),
                            borderColor: 'rgb(75, 192, 192)',
                            fill: false,
                            pointRadius: 0,
                            borderDash: [5, 5],
                            borderWidth: 3,
                            tension: 0.4
                        });
                        btn.textContent = 'Quitar Catalizador';
                        btn.classList.remove('bg-purple-500', 'hover:bg-purple-600');
                        btn.classList.add('bg-gray-500', 'hover:bg-gray-600');
                    } else {
                        chart.data.datasets.pop();
                        btn.textContent = 'Añadir Catalizador';
                        btn.classList.remove('bg-gray-500', 'hover:bg-gray-600');
                        btn.classList.add('bg-purple-500', 'hover:bg-purple-600');
                    }
                    chart.update();
                    catalystAdded = !catalystAdded;
                };
            }

            // Mostrar la primera diapositiva al cargar
            showSlide(currentSlideIndex);
        });
    </script>
</body>
</html>
